<!DOCTYPE html>

<html class="no-js" lang="en-US">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="http://gmpg.org/xfn/11" rel="profile"/>
<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>System Admin – BoochTek, LLC</title>
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link href="//s.w.org" rel="dns-prefetch"/>
<link href="../../feed" rel="alternate" title="BoochTek, LLC » Feed" type="application/rss+xml">
<link href="../../comments/feed" rel="alternate" title="BoochTek, LLC » Comments Feed" type="application/rss+xml"/>
<link href="../../category/sysadmin/feed" rel="alternate" title="BoochTek, LLC » System Admin Category Feed" type="application/rss+xml"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.boochtek.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link href="https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext" id="twentysixteen-fonts-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1" id="genericons-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../wp-content/themes/twentysixteen/style.css?ver=4.7.2" id="twentysixteen-style-css" media="all" rel="stylesheet" type="text/css"/>
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='http://blog.boochtek.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script src="../../wp-includes/js/jquery/jquery.js?ver=1.12.4" type="text/javascript"></script>
<script src="../../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1" type="text/javascript"></script>
<link href="../../wp-json/" rel="https://api.w.org/"/>
<link href="../../xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="../../wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<meta content="WordPress 4.7.2" name="generator"/>
</link></head>
<body class="archive category category-sysadmin category-13 hfeed">
<div class="site" id="page">
<div class="site-inner">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<header class="site-header" id="masthead" role="banner">
<div class="site-header-main">
<div class="site-branding">
<p class="site-title"><a href="../" rel="home">BoochTek, LLC</a></p>
<p class="site-description">Web Development, Ruby on Rails, Open Source</p>
</div><!-- .site-branding -->
</div><!-- .site-header-main -->
</header><!-- .site-header -->
<div class="site-content" id="content">
<div class="content-area" id="primary">
<main class="site-main" id="main" role="main">
<header class="page-header">
<h1 class="page-title">Category: System Admin</h1> </header><!-- .page-header -->
<article class="post-110 post type-post status-publish format-standard hentry category-linux category-shell category-sysadmin" id="post-110">
<header class="entry-header">
<h2 class="entry-title"><a href="../2014/03/11/readable-shell-scripts" rel="bookmark">Burying the Lede</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>Most of us don’t write very readable shell scripts. There are plenty of things we could do better, but today I want to talk about one in particular — burying the lede.</p>
<p>The term “burying the lede” comes from the field of journalism. Here’s the <a href="http://en.wiktionary.org/wiki/bury_the_lede">Wiktionary definition</a>:</p>
<blockquote><p>To begin a story with details of secondary importance to the reader while postponing more essential points or facts.</p></blockquote>
<p>Like a good news article, code should tell a story. And the story should start with what’s most important. In the case of code, the most important information is the high-level functionality — a succinct summary of what the program does. In other words, write (and organize) the code top-down, as opposed to bottom-up.</p>
<p>Unfortunately, shell script doesn’t make this easy. Due to the way shell scripts are interpreted, you can’t call a function until after you’ve defined it. This leads to most of us structuring our code like this:</p>
<pre>function do_something { ... }
function do_something_else { ... }

do_something
do_something_else</pre>
<p>The problem with this is that the function definitions will likely take quite a few lines, and we won’t see what the top-level functionality is until we reach the end of the script.</p>
<p>I’d like to propose a standard way to structure shell scripts to mitigate this issue. (I’m really only talking about shell scripts that have function definitions within them.) I’m sure I’ve seen a few scripts do this, but it’s not very common at all.</p>
<p>My proposal is simple:</p>
<pre>function main {
  do_something
  do_something_else
}
function do_something { ... }
function do_something_else { ... }

main</pre>
<p>This structure lets us start with the lede. We describe the top-level functionality right away. Only then do we get to the secondary details. The name <code>main</code> makes it pretty clear that it contains the top-level functionality.</p>
<p>I’ve recently started writing my shell code like this, and I’m happy with the results. I’ve also started to use some other programming techniques in my shell scripts to improve readability: better naming, extracting more methods, and moving helper methods into separate files. It feels good to treat shell scripts like real code instead of just some stuff I’ve hacked together.</p>
<p>PS. The WordPress theme I’m currently using (Twenty Eleven) also buries the lede — I can barely even see the title of the blog post on my screen without scrolling. I’m going to have to change that soon.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2014/03/11/readable-shell-scripts" rel="bookmark"><time class="entry-date published updated" datetime="2014-03-11T23:28:22+00:00">March 11, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/open-source/linux" rel="category tag">GNU/Linux</a>, <a href="../category/programming/programming-languages/shell" rel="category tag">Shell</a>, <a href="../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../2014/03/11/readable-shell-scripts#respond">Leave a comment<span class="screen-reader-text"> on Burying the Lede</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-129 post type-post status-publish format-standard hentry category-shell category-sysadmin" id="post-129">
<header class="entry-header">
<h2 class="entry-title"><a href="../2014/03/03/yak-shaving-cursor-keys" rel="bookmark">Yak Shaving #1: Cursor Keys</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I recently decided to start using Emacs again. I used it extensively from the early 1990s until the early 2000s. I pretty much stopped using it when I had a sysadmin job with no Emacs on the servers, and no ability to install it. With the rising popularity of tmux and tmate for remote pairing, and my dislike for vim’s modes, I decided to try going back to Emacs in the terminal.</p>
<p>One thing I <strong>really</strong> want in a text editor is good cursor key support. Shifted cursor keys<br/>
should select text, and Control+left and right should move by words. (<a href="https://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/AppleHIGuidelines/KeyboardShortcuts/KeyboardShortcuts.html">Apple HIG</a> says to use Option+left and right to move by words; most apps on Mac OS X seem to support both.) Things have worked this way on almost every text editor on every OS I’ve used — Amiga, DOS, Windows, NeXT, Mac, Motif, Gnome, KDE. It’s a part of the <a href="https://en.wikipedia.org/wiki/Common_User_Access">CUA</a> standard that’s been in common usage on everything since the mid-1980s.</p>
<p>Enabling cursor keys in Emacs was pretty easy. I’ve decided to use <a href="https://github.com/bbatsov/prelude#readme">Prelude</a> to make getting started with Emacs easy. Emacs comes with the cursor keys enabled, but Prelude disables them. Undoing Prelude’s change is pretty easy:</p>
<pre>(setq prelude-guru nil)</pre>
<p>Trying to make shifted cursor keys work is where the trouble began. They work in the GUI version of Emacs, but not from the terminal. It turns out that the Mac Terminal doesn’t distinguish between cursor keys and shifted cursor keys in its default configuration. So I had to figure out how to configure key bindings in Terminal.</p>
<p>That’s easy enough — they’re in the preferences. But what should I set them to? This took a lot of research. Terminal emulation and ANSI code sequences are obscure, complex, and inconsistent. I eventually found the info I needed. For starters, Shift+Right, Shift+Left, Shift+Home, and Shift+End are defined in the terminfo. The rest I was able to piece together from various sources around the Internet.</p>
<p>I’m also trying to <a href="https://github.com/boochtek/mac_config">script my Mac configuration</a>. So instead of manually adding all the keybindings in the Terminal preferences pane, I decided to write a script. Mac OS X does a decent job of allowing you to change preferences from the command line. For example, to always show the tab bar:</p>
<pre>defaults write -app Terminal ShowTabBar 1</pre>
<p>Easy enough, except for a couple problems. First, I had to figure out the obscure syntax used in the preferences for key codes. I was able to piece these together with some more Internet research. But the really big problem is that the keyboard bindings are 2 levels deep within a “dictionary” (hash map). And the <code>defaults</code> command doesn’t handle that. There are some obscure utilities that handle nested preferences, but <a href="https://groups.google.com/forum/#!topic/macenterprise/YgJnfqpyKNs">they don’t work well with the preferences caching in Mac OS X 10.9</a> — a problem I ran into while testing.</p>
<p>So now I’m writing a utility in Python that does what the <code>defaults</code> command does, but that will handle nested dictionaries.</p>
<p>There’s a term for this process of having to solve one issue before you can solve another, and the issues get several layers deep. It’s called <em>yak shaving</em>.</p>
<p>Here’s another good example:</p>
<figure class="wp-caption alignnone" id="attachment_143" style="width: 480px"><a href="../wp-content/uploads/2014/03/ibaDjk7AeIcvxv.gif"><img alt="Father from Malcolm in the middle having to fix one thing before fixing another, ad infinitum." class="size-full wp-image-143" height="360" src="http://blog.boochtek.com/wp-content/uploads/2014/03/ibaDjk7AeIcvxv.gif" width="480"/></a><figcaption class="wp-caption-text">Yak shaving – home repairs</figcaption></figure>
<p>I’m sure this will be the first of many posts about me yak shaving.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2014/03/03/yak-shaving-cursor-keys" rel="bookmark"><time class="entry-date published updated" datetime="2014-03-03T22:02:59+00:00">March 3, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming/programming-languages/shell" rel="category tag">Shell</a>, <a href="../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../2014/03/03/yak-shaving-cursor-keys#respond">Leave a comment<span class="screen-reader-text"> on Yak Shaving #1: Cursor Keys</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-100 post type-post status-publish format-standard hentry category-blogging category-security category-sysadmin" id="post-100">
<header class="entry-header">
<h2 class="entry-title"><a href="../2014/02/02/blogging-software" rel="bookmark">What I Want in a Blog Engine</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I’m considering moving away from <a href="http://wordpress.org">WordPress</a>, for a couple reasons:</p>
<ul>
<li>Security. There have been several vulnerabilities over the past few years, and I’ve never really had a high level of confidence that it’s secure. In addition, I now find the whole PHP model — every web app running as a single user, instead of leveraging UNIX permissions — to be broken.</li>
<li>Speed. I started to realize a couple years ago that a blog engine should generate static pages. The static pages should be updated whenever new content is added. There’s really no reason to re-generate the page every time someone wants to read it. At the very least, Server-Side Includes (<a href="https://en.wikipedia.org/wiki/Server_Side_Includes">SSI</a>) or Edge-Side Includes (<a href="https://en.wikipedia.org/wiki/Edge_Side_Includes">ESI</a>) should be used.</li>
</ul>
<p>Now that I’m starting to actually blog consistently, it makes sense to change. But before I move to something different, I want to be sure that I find all the features that I need. This post is my thought process about what I want.</p>
<h2>Requirements</h2>
<ul>
<li>Self hosted. I like to run my own servers. Partly so I can keep full control, and partly because I enjoy doing some system admin stuff (as long as it doesn’t take too much time).</li>
<li>Generation of static pages. Almost everything should be a static page by the time a user requests a page. Obviously, submitting comments would hit a dynamic page, and comment approval would likely be done through a dynamic part of the site. But <em>publishing</em> a blog post or comments should generate static files to be served by Apache or nginx.</li>
<li>Categories (or maybe tags). I want readers to be able to find other things that I’ve written that might interest them. A list of categories in a sidebar would help them find what interests them.</li>
<li>Site map. Especially an <a href="http://www.sitemaps.org/protocol.html">XML sitemap</a>, so Google can index better. I also like the idea of readers being able to see everything in one place.</li>
<li>Archives. This is another way of letting readers see everything I’ve written, organized by publication date.</li>
<li>RSS and/or Atom. I want readers to be able to subscribe to my blog.</li>
<li>Media. I don’t think I necessarily need a media manager, just a simple way to add pictures to blog posts.</li>
<li>Comments. I want to allow comments, but I don’t want to use anything like <a href="http://disqus.com/">Disqus</a>. I want the comments to be in my own database, so they won’t disappear. I also dislike requiring JavaScript just to see comments. And I’ve worked at places where Disqus wouldn’t work, due to web proxy servers. Comments should be moderated by the site admin, editor, or author. Readers should not have to log in to post a comment, but it would be nice to <em>allow</em> users to log into Twitter or some other social network to provide their info.</li>
<li>Pingbacks and Tweetbacks. I’d like to be able to see who’s referring to my articles.</li>
</ul>
<h2><b>Nice to Have</b></h2>
<ul>
<li>Free. I almost consider this to be a requirement, but I’d be willing to entertain a 1-time payment for something that meets my needs really well. I need to try to counteract my DIY-at-all-non-monetary-costs mentality.</li>
<li>Open Source. I think Open Source is likely to provide a more useful product, especially in this space. An Open Source option is more likely to improve over time.</li>
<li>Not PHP. I’ve got several problems with PHP. First, the whole PHP model of running in the same context as Apache (or nginx) breaks UNIX conventions. A security issue in a PHP program exposes more than just the program itself — it exposes Apache and every other PHP program. Under the UNIX model, each program runs in a different user context, isolating bugs to that program only. PHP is also a “hacky” language. PHP programmers tend to not be as rigorous (in many ways), leading to more vulnerabilities. Finally, the PHP language itself has had several misfeatures that have lead to security issues — much more than Ruby or Java.</li>
<li>Not MySQL. I’d like to be able to remove MySQL from my servers. PostgreSQL would be much preferred. Storing everything in git would be fine too — maybe even preferred. I’d even be fine with MongoDB or some other simple NoSQL database.</li>
<li>Admin console. I can’t imagine approving comments without this, but I’m not closed to that possibility.</li>
<li>Edit history. I want to be able to update posts, but see what the previous versions looked like. (Not sure if I care whether the public can or cannot see the various revisions.)</li>
<li>WYSIWYG. I’d be willing to settle for Markdown. In fact, I’d prefer (extended) Markdown as the canonical form behind the WYSIWYG.</li>
<li>Code highlighting. A lot of my blog posts (will) include code in various languages. I’d like the blogging software to be able to handle that well. Syntax highlighting would be great. Any other related features would also be nice.</li>
<li>Through-the-web editing. I’d like to be able to edit a page from any device from anywhere that has Internet access.</li>
<li>Reader-submitted edits. This is probably going to be the hardest thing to find, but I’d like a <em>really</em> easy way for readers to let me know of typos and such by simply submitting a fix for them. The author or editor of the post would have to approve the edits, obviously.</li>
<li>Import from WordPress. I don’t have a ton of content in WordPress, or else this would probably be a more firm requirement.</li>
<li>Community. Community helps software thrive, adding improvements and ensuring security.</li>
<li>Plugins. It would be nice for the blog engine to be extensible.</li>
<li>Unpublished drafts and previews. I’d really like to be able to see by blog posts before I release them to the world.</li>
<li>CMS abilities. I’d really like the ability to edit non-blog web pages the same way as blog entries.</li>
<li>Themes. It would be nice to have decently looking themes, so I could have other people help me make the site look nice.</li>
<li>Posting my tweets in a sidebar area. I’d be OK with this being done in client-side JavaScript. I’d also be OK with periodic polling of my Twitter feed, and updating the static content when appropriate.</li>
</ul>
<h2>Candidates</h2>
<p>I’ve been playing with <a href="http://jekyllrb.com/">Jekyll</a> lately, using it to generate a simple static site that can be updated easily. It’s pretty nice, and pretty easy to use. Something based on Jekyll would work well. The trickiest part will be figuring out how to manage comments. Or maybe I’ll just have to learn to live more minimally.</p>
<p><a href="http://octopress.org/">Octopress</a> is the obvious candidate. It fits most of my needs and wants. Most likely I’ll write my own commenting engine and add it to my Octopress template.</p>
<p>The only other candidate that I’ve found is <a href="https://ghost.org/">Ghost</a>. It’s written in JavaScript and runs on Node. I don’t find Node to be that compelling, but the templates look great, and it’s designed for coding blogs.</p>
<p>I’ll probably take a quick look at <a href="http://dropplets.com/">Droplets</a>, too. It’s written in PHP, but seems to fit my other requirements.</p>
<p>Unfortunately, that seems to be all there is in this space. Maybe I need to investigate more. Or maybe Octopress just has the static blog generation marked cornered. Either way, I’ll probably change my blogging software in the next month or two. Wish me luck!</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2014/02/02/blogging-software" rel="bookmark"><time class="entry-date published" datetime="2014-02-02T22:50:43+00:00">February 2, 2014</time><time class="updated" datetime="2015-11-30T21:19:51+00:00">November 30, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/blogging" rel="category tag">Blogging</a>, <a href="../category/security" rel="category tag">Security</a>, <a href="../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../2014/02/02/blogging-software#respond">Leave a comment<span class="screen-reader-text"> on What I Want in a Blog Engine</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-46 post type-post status-publish format-standard hentry category-linux category-sysadmin" id="post-46">
<header class="entry-header">
<h2 class="entry-title"><a href="../2011/08/26/bulk-rename-in-bash" rel="bookmark">Bulk Rename in Bash</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>Here’s a relatively simple way to rename a bunch of files from the command line. It uses <code>sed</code> within a command substitution to compute the new names from the old names.</p>
<p>In this example, we’re renaming files that start with “ABC” to start with “XYZ” instead:</p>
<pre class="bash code">  <code class="bash">for i in ABC*; do mv $i $(echo $i | sed -e s/^ABC/XYZ/); done</code></pre>
<p>You’ll have to use shell globbing (wildcards) in the first part, to determine which files will be the source of the renaming, and regular expressions in the second part to translate the old names into the new names.</p>
<p>It’s a good idea to use <code>echo</code> in place of <code>mv</code> before running this, to see what the results will be, so you don’t make a mistake.</p>
<p>Depending on the situation, you may need to adapt this for your particular needs. For example, if you have too many files to rename, you would need to use <code>xargs</code>. Or <code>sed</code> might not be up for the task of transforming the names that you want. Or you might need to use <code>find</code> to find files within a hierarchy. As with any UNIX idiom, there are hundreds of variations on the theme.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2011/08/26/bulk-rename-in-bash" rel="bookmark"><time class="entry-date published" datetime="2011-08-26T22:53:58+00:00">August 26, 2011</time><time class="updated" datetime="2011-09-03T01:09:45+00:00">September 3, 2011</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/open-source/linux" rel="category tag">GNU/Linux</a>, <a href="../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../2011/08/26/bulk-rename-in-bash#respond">Leave a comment<span class="screen-reader-text"> on Bulk Rename in Bash</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
</main><!-- .site-main -->
</div><!-- .content-area -->
<aside class="sidebar widget-area" id="secondary" role="complementary">
<section class="widget widget_pages" id="pages-2"><h2 class="widget-title">Pages</h2> <ul>
<li class="page_item page-item-2"><a href="../about">About</a></li>
</ul>
</section><section class="widget widget_categories" id="categories-4"><h2 class="widget-title">Categories</h2> <ul>
<li class="cat-item cat-item-17"><a href="../category/agile">Agile</a>
</li>
<li class="cat-item cat-item-26"><a href="../category/programming/architecture">Architecture</a>
</li>
<li class="cat-item cat-item-20"><a href="../category/blogging">Blogging</a>
</li>
<li class="cat-item cat-item-25"><a href="../category/programming/programming-languages/brilliant">Brilliant</a>
</li>
<li class="cat-item cat-item-30"><a href="../category/agile/empathy">Empathy</a>
</li>
<li class="cat-item cat-item-27"><a href="../category/agile/estimation-agile">Estimation</a>
</li>
<li class="cat-item cat-item-22"><a href="../category/gadgets">Gadgets</a>
</li>
<li class="cat-item cat-item-7"><a href="../category/open-source/linux">GNU/Linux</a>
</li>
<li class="cat-item cat-item-9"><a href="../category/programming/programming-languages">Languages</a>
</li>
<li class="cat-item cat-item-19"><a href="../category/programming/oop">OOP</a>
</li>
<li class="cat-item cat-item-5"><a href="../category/open-source">Open Source</a>
</li>
<li class="cat-item cat-item-8"><a href="../category/programming">Programming</a>
</li>
<li class="cat-item cat-item-16"><a href="../category/programming/programming-languages/python">Python</a>
</li>
<li class="cat-item cat-item-29"><a href="../category/resolutions">Resolutions</a>
</li>
<li class="cat-item cat-item-28"><a href="../category/agile/retrospectives">Retrospectives</a>
</li>
<li class="cat-item cat-item-10"><a href="../category/programming/programming-languages/ruby">Ruby</a>
</li>
<li class="cat-item cat-item-6"><a href="../category/webdev/rails">Ruby on Rails</a>
</li>
<li class="cat-item cat-item-12"><a href="../category/security">Security</a>
</li>
<li class="cat-item cat-item-21"><a href="../category/programming/programming-languages/shell">Shell</a>
</li>
<li class="cat-item cat-item-13 current-cat"><a href="../category/sysadmin">System Admin</a>
</li>
<li class="cat-item cat-item-18"><a href="../category/agile/tdd">TDD</a>
</li>
<li class="cat-item cat-item-4"><a href="../category/webdev">Web Development</a>
</li>
</ul>
</section> </aside><!-- .sidebar .widget-area -->
</div><!-- .site-content -->
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-info">
<span class="site-title"><a href="../" rel="home">BoochTek, LLC</a></span>
<a href="https://wordpress.org/">Proudly powered by WordPress</a>
</div><!-- .site-info -->
</footer><!-- .site-footer -->
</div><!-- .site-inner -->
</div><!-- .site -->
<script src="../../wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20150825" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script src="../../wp-content/themes/twentysixteen/js/functions.js?ver=20150825" type="text/javascript"></script>
<script src="../../wp-includes/js/wp-embed.min.js?ver=4.7.2" type="text/javascript"></script>
</body>
</html>
