<!DOCTYPE html>

<html class="no-js" lang="en-US">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="http://gmpg.org/xfn/11" rel="profile"/>
<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Agile – Page 2 – BoochTek, LLC</title>
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link href="//s.w.org" rel="dns-prefetch"/>
<link href="../../../../feed" rel="alternate" title="BoochTek, LLC » Feed" type="application/rss+xml">
<link href="../../../../comments/feed" rel="alternate" title="BoochTek, LLC » Comments Feed" type="application/rss+xml"/>
<link href="../../../../category/agile/feed" rel="alternate" title="BoochTek, LLC » Agile Category Feed" type="application/rss+xml"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.boochtek.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link href="https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext" id="twentysixteen-fonts-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../../../wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1" id="genericons-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../../../wp-content/themes/twentysixteen/style.css?ver=4.7.2" id="twentysixteen-style-css" media="all" rel="stylesheet" type="text/css"/>
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='http://blog.boochtek.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script src="../../../../wp-includes/js/jquery/jquery.js?ver=1.12.4" type="text/javascript"></script>
<script src="../../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1" type="text/javascript"></script>
<link href="../../../../wp-json/" rel="https://api.w.org/"/>
<link href="../../../../xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="../../../../wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<meta content="WordPress 4.7.2" name="generator"/>
</link></head>
<body class="archive paged category category-agile category-17 paged-2 category-paged-2 hfeed">
<div class="site" id="page">
<div class="site-inner">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<header class="site-header" id="masthead" role="banner">
<div class="site-header-main">
<div class="site-branding">
<p class="site-title"><a href="../../../" rel="home">BoochTek, LLC</a></p>
<p class="site-description">Web Development, Ruby on Rails, Open Source</p>
</div><!-- .site-branding -->
</div><!-- .site-header-main -->
</header><!-- .site-header -->
<div class="site-content" id="content">
<div class="content-area" id="primary">
<main class="site-main" id="main" role="main">
<header class="page-header">
<h1 class="page-title">Category: Agile</h1> </header><!-- .page-header -->
<article class="post-230 post type-post status-publish format-standard hentry category-agile" id="post-230">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2015/05/18/agile-to-happiness" rel="bookmark">From Agile To Happiness</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>The <a href="http://agilemanifesto.org">Agile Manifesto</a> was written in 2001, as a way to explain the common values amongst several “light-weight” software development methodologies that had come about. The term “Agile” was chosen as a shorthand for those commonalities.</p>
<p>Once “Agile” started to show success, we started to see many people use the term to market their products and services, whether or not they really believed in the values and principles of the Agile Manifesto. It’s gotten to the point where some of us don’t see much value in using the term “Agile” any more. Even some of those involved in creating the manifesto have suggested new terms. Dave Thomas <a href="http://pragdave.me/blog/2014/03/04/time-to-kill-agile/">suggests</a> “Agility” and Andy Hunt has started working on something called <a href="http://growsmethod.com/">GROWS</a>. Personally, I’m considering going back to the term “Extreme Programming”, even though I’ve incorporated ideas from other Agile methodologies.</p>
<p>It recently occurred to me that Agile, when done “right”, is closely aligned with the happiness of the team members. This is really interesting, because it aligns the interests of the employees and the business — a win-win situation. My next thought was that maybe the next step after “Agile” will be a focus on happiness and motivation.</p>
<p>I’ve recently been thinking about personal motivation lately, in the context of team practices. According to Daniel Pink’s book <a href="http://www.amazon.com/Drive-Surprising-Truth-About-Motivates/dp/1594484805"><i>Drive</i></a>, people are motivated by autonomy, mastery, and purpose. I personally add a fourth that can sometimes trump the other three: identity. And of course, happiness can also be motivating — both in the attempt to achieve happiness and in just <i>being</i> happy. (I suspect that happiness is more of a parallel to motivation than a <em>cause</em> though.)</p>
<p>There are a couple different ways that happiness can be achieved at work. The traditional way is for work to be a means to an end. In this view, the purpose of your job is to provide the money to live your life (outside of work) the way that you want to live it. There’s nothing wrong with this way of thinking. But for the lucky few, we can work on something that makes us happy in and of itself. That’s generally done by finding a job doing something that we enjoy.</p>
<p>But perhaps that’s thinking about things the wrong way. For one, plenty of people who have gone that route are still unhappy at work. I think a lot of that has to do more with the context surrounding the work than the work itself. Maybe you’ve got a lousy manager. Maybe you don’t like the people you work with. Maybe the tools you have to work with are bad. Maybe the processes add a lot of unnecessary tedium.</p>
<p>So maybe we need to find ways to be happier at work. Most of the Agile practices seem to make team members happy. For example, replacing a light-weight process for a heavier process always makes me happy. And I typically leave retrospectives in a good mood. So that’s a good starting point. But we should see if we can take the idea further. If we take employee happiness as a core value, where can we go? What kind of practices would we want to add? Please share any ideas in the comments below.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2015/05/18/agile-to-happiness" rel="bookmark"><time class="entry-date published updated" datetime="2015-05-18T23:33:11+00:00">May 18, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a></span><span class="comments-link"><a href="../../../2015/05/18/agile-to-happiness#respond">Leave a comment<span class="screen-reader-text"> on From Agile To Happiness</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-225 post type-post status-publish format-standard hentry category-agile category-tdd" id="post-225">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2015/05/11/when-tdd" rel="bookmark">When Should We Do TDD?</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>On a recent episode (<a href="http://www.thisagilelife.com/78/">78</a>) of <a href="http://www.thisagilelife.com">This Agile Life</a>, my fellow hosts talked about when to do Test-Driven Development (TDD). They all said that you should always do TDD — at least for anything that will go into production; there’s an exception for experimenting or “spiking”.</p>
<p>I wasn’t on that episode, but later commented on the topic. (Episode 83 — which wasn’t really all that great.) My take was slightly different. I said that you should do TDD only when the benefits outweigh the costs. Unfortunately, we usually greatly underestimate the benefits. And the costs often seem high at first, because it takes some time to get good at writing automated tests. Not to mention that both the costs and the benefits are usually hard to measure.</p>
<p>What is the cost of writing automated tests? I’ve asked this question before and recorded the answers (inasmuch as we have them) in a <a href="../../../2014/05/05/tdd-is-alive-and-well">previous blog entry</a>. TDD costs us about 10-30% in short-term productivity. The benefit that they found was a reduction in bugs by 30-90%, and a decrease in code complexity by about 30%.</p>
<p>But what about when the costs are higher than the normal 10 to 30 percent? One good example of this is when there’s no test framework for the situation you’re testing. This might be a new language or framework that you’re working with. More likely it’s a complex API that you have to mock out. So that could increase the cost of automated testing so as to outweigh the benefits — especially on a short project. I could imagine situations where the cost of writing the mocks could eat up more than the project itself.</p>
<p>Another case where we might consider skipping testing is when we’re more concerned about time to market than quality. This is almost always a mistake. Your code will almost always last longer than you expect. (Remember Y2K?) And if the code lasts longer than you expect, that means you’ll have to deal with bugs that whole time. But we have to work with the information we have at the time we make our decisions. And sometimes that might tell us that time to market is more important than anything.</p>
<p>One final case I can imagine is when a true expert is coding something that they’re very familiar with. I could picture someone like Uncle Bob writing code (in a language that he’s familiar with) without tests just as effectively as I could write code with tests.</p>
<p>But these situations should not be common; they’re edge cases. In almost all real-world cases, TDD is the right thing to do. Don’t forget, TDD is also a design discipline — it helps you design a better API. So keep doing TDD. But as with any practice, don’t do it blindly without considering why we’re doing it. Make sure you understand the costs, and whether the benefits outweigh the costs.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2015/05/11/when-tdd" rel="bookmark"><time class="entry-date published updated" datetime="2015-05-11T23:43:05+00:00">May 11, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/agile/tdd" rel="category tag">TDD</a></span><span class="comments-link"><a href="../../../2015/05/11/when-tdd#comments">2 Comments<span class="screen-reader-text"> on When Should We Do TDD?</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-215 post type-post status-publish format-standard hentry category-agile" id="post-215">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2015/05/04/good-enough" rel="bookmark">Good Enough</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I ran into some former colleagues recently, from a company where I had worked to help transform the team to be more Agile. They’ve gone through some reorganization and management changes recently. One of the guys said that their team culture has helped them maintain quality in the face of those changes. This struck me as odd, since I had considered the work I had done there as somewhat of a disappointment. While I felt I had made a small dent, I didn’t feel like I’d made a true Agile transformation. Much of what I had taught didn’t seem to “stick”.</p>
<p>Later that night I thought about why my opinion of the team and his opinion were so different. There are a lot of reasons why an Agile “transformation” could fail. It could be due to lack of support from management. Or even worse, not getting the team members to buy into the ideas — usually due to fear of change. But while those had some effect in this case, they weren’t really the main issues. Now that I’ve had some time and some distance from that team, I’ve gained some clarity on what the real issues were.</p>
<p>I think the reason that I think this transformation was a failure was due to the continued pace of change that true Agile requires. Basically the team experienced “change fatigue”, where everything keeps changing and you feel like you can never catch your breath. But the more interesting thing is how our perceptions differed. He seemed to think that the transformation was a success — they’re doing things better than they used to. I view it as more of a failure, because they basically stopped improving — at least at the pace that I was hoping for.</p>
<p>I think this difference in mindset is pretty fundamental. My view of Agile involves continuous improvement — always inspecting and adapting our processes. I suppose that means that my preferred flavor of Agile is “<a href="http://en.wikipedia.org/wiki/Kaizen">Kaizen</a>“. But other people don’t see improvement and change as a constant — they see each change as a means to an end. I’m starting to realize that neither viewpoint is objectively correct. Maybe they’re both fine viewpoints to have. Maybe I shouldn’t be so hard on myself and view that engagement as a failure, especially if my teammates view it as a success. Maybe perfection is the enemy of the good. And maybe I need to learn to be happy with “good enough”.</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2015/05/04/good-enough" rel="bookmark"><time class="entry-date published" datetime="2015-05-04T23:03:01+00:00">May 4, 2015</time><time class="updated" datetime="2015-05-04T23:23:16+00:00">May 4, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a></span><span class="comments-link"><a href="../../../2015/05/04/good-enough#respond">Leave a comment<span class="screen-reader-text"> on Good Enough</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-206 post type-post status-publish format-standard hentry category-agile" id="post-206">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2015/04/27/one-percent" rel="bookmark">The Power of 1%</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I frequently participate in a podcast called <a href="http://thisagilelife.com">This Agile Life</a>. Recently, a listener asked how much time Agile teams should spend on self improvement. I said 10% to 25%, leaning towards 15% to 20% for most teams. That comes to at least one hour per day, and maybe even more than one day per week.</p>
<p>I’m including personal self improvement and team retrospectives in this self-improvement time. This can be as simple as configuring your IDE to make you more efficient, learning to use a tool better, or following up on action items from a retro.</p>
<p>That may seem like a lot of time “wasted”. But I think I can justify the cost of all that time.</p>
<p>The purpose of spending time on team or self-improvement — the whole point — is to increase our performance and our efficiency. How much improvement can we expect? Can we improve by 1% each week? That doesn’t sound too unreasonable. I think that’s an achievable goal for almost any team, at least on average.</p>
<p>Spending 20% of your time to gain 1% doesn’t seem like it’s worth it — until you consider the long term. With compound interest, you’ll be 67% more efficient by the end of a year.<sup><a href="#1">1</a></sup> At that point, you’ll be able to get things done in 59% of the time — saving 41% of the time required at the beginning of the year.<sup><a href="#2">2</a></sup> The following years will show even more progress, as compared to when you started. If 10x programmers exist, continuous improvement is apparently the way to get there.</p>
<p>So there’s a pretty good return on investment, even with a small amount of improvement each week. You’ll be significantly more efficient.</p>
<p>But efficiency isn’t really what you should aim for. You should aim for effectiveness. You can be efficient in creating the wrong thing. Part of improving should be ensuring that you’re not just building things right, but that you’re building the right things. Build what the customer really needs. Find ways to ask the right questions.</p>
<p>Most importantly, find ways to keep improving. It would be a waste of time not to.</p>
<p><a id="1">1</a>: (1.01 ^ 52) – 1<br/>
<a id="2">2</a>: (0.99 ^ 52)</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2015/04/27/one-percent" rel="bookmark"><time class="entry-date published" datetime="2015-04-27T23:11:55+00:00">April 27, 2015</time><time class="updated" datetime="2015-11-30T21:19:42+00:00">November 30, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-198 post type-post status-publish format-standard hentry category-agile category-blogging category-brilliant category-resolutions category-security" id="post-198">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2015/02/02/resolutions" rel="bookmark">Resolutions</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>January kept me pretty busy, so I’m a little late to this. But better late than never. And as an Agile practitioner, I don’t think personal retrospectives should be limited to one time of year.</p>
<h1>Review of 2014</h1>
<p>Last year I wrote a blog entry listing <a href="../../../2014/01/04/open-source-resolutions">my goals for 2014</a>. As far as New Year’s resolutions go, I was relatively successful — about 50% of my goals accomplished. Unfortunately, my Open Source contributions weren’t as strong as I had hoped; while I released some of my own work, I didn’t do much else. I did increase my blogging; getting in on a weekly blogging pact helped immensely. I also increased my participation on the <a href="http://thisagilelife.com/">This Agile Life podcast</a> to a level that I’m happy with. But the accomplishment I’m most proud of was giving a <a href="https://www.youtube.com/watch?v=hc_wtllfKtQ">presentation at RubyConf</a>.</p>
<h1>Plans for 2015</h1>
<p>I’d like to keep things rolling from last year, but crank up a few things. My plans are quite ambitious, so I don’t expect to get everything done by any means. But I think by setting the bar high, I’ll end up with a lot I can be proud of.</p>
<h2>Job Hunting</h2>
<p>Late last year, I took the jump into independent consulting. So far, I’ve really enjoyed it, and I’m booked up through April. My wife graduates in May, so we’ve got the possibility of moving if that makes sense. So I’ll be looking for consulting projects in town, but I’ll also be looking at jobs in San Francisco and Chicago. The possibilities are exciting, and I’ll be taking my time to find something just right.</p>
<h2>Conferences</h2>
<p>I was incredibly nervous leading up to my RubyConf presentation. Part of that was just the common fear of public speaking. For me, that only kicks in at around 100 people, and this audience was around 250. I think another reason was that I chose a really ambitious topic, and I kept finding more that I wanted to talk about, but wasn’t prepared for. But I think I did a pretty good job presenting an advanced topic. And I was so pumped by the sense of accomplishment as soon as I finished. So I’m hoping to do it more. I’ve already submitted a couple proposals, and plan to submit several more.</p>
<h2>Blogging</h2>
<p>I believe that blogging is important for me to get my thoughts down — for myself and to share with others. I was really successful last year when I had a partner to keep me honest, via a pact. So I’ve started up <a href="https://github.com/booch/pact">another pact</a> this year, which will hopefully ensure I’ll keep things going. I’ve got a really long backlog of topics, so as long as I keep at it, I’ll have plenty to write about.</p>
<p>I also want to move away from WordPress to a static system — probably <a href="https://middlemanapp.com/">Middleman</a>. I’ve got 2 major problems with WordPress. First, I no longer trust its security, nor the security of any application written in PHP. Second, it generates HTML every time someone requests a page, instead of when the content is updated. I find that to be a waste of resources, and problematic from a security standpoint. The main problem with moving to a static blogging system is that I really want to allow comments, pingbacks, and tweetbacks. So I’ll have to find a way to integrate those.</p>
<h2>Programming Language Design</h2>
<p>Last year I started thinking about programming language design, and started implementing a language tentatively called <a href="../../../2014/03/30/brilliant-my-own-programming-language">Brilliant</a>. I’ve done a lot more thinking on the topic, and have a lot of notes. But I haven’t implemented much more yet. This year, I’d like to get my thoughts more organized, and write a series of blog posts on various aspects of language design. The most interesting part seems to be the trade-offs involved in the ways that various language features interact. So I’d like to make some progress on the language implementation, but more importantly, I’d like to get a lot of my design ideas written down.</p>
<p>I’m also going to spend a lot of time learning a bunch more programming languages, so I have a better understanding of possible features, combinations of features, and their interactions. I’ve already start with Elixir, Clojure, and Racket. I’m hoping to also look at OCaml, Factor, and Haskell. I’ll probably also take a look at the 2 “Seven Languages in Seven Weeks” books.</p>
<h2>Agile Book</h2>
<p>I think people often have trouble getting started with Agile. I started on a book last year, and got down quite a lot of good ideas. But I realized that I’m going to have a hard time organizing all those ideas into something coherent. Still, I’d like to try to get something out there that lets people get started with Agile. My idea is to present a toolbox of practices to get started with and build on that foundation over time with additional practices. Sort of a playbook on how to get started over the first 6 to 12 months and be successful. I want to make some progress on the book, at least enough to decide whether it’s worth the effort to finish it and self-publish it.</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2015/02/02/resolutions" rel="bookmark"><time class="entry-date published" datetime="2015-02-02T23:42:13+00:00">February 2, 2015</time><time class="updated" datetime="2015-12-28T21:12:28+00:00">December 28, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/blogging" rel="category tag">Blogging</a>, <a href="../../../category/programming/programming-languages/brilliant" rel="category tag">Brilliant</a>, <a href="../../../category/resolutions" rel="category tag">Resolutions</a>, <a href="../../../category/security" rel="category tag">Security</a></span><span class="comments-link"><a href="../../../2015/02/02/resolutions#respond">Leave a comment<span class="screen-reader-text"> on Resolutions</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-191 post type-post status-publish format-standard hentry category-agile category-rails category-tdd" id="post-191">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/05/05/tdd-is-alive-and-well" rel="bookmark">TDD Is Alive And Well</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I went to RailsConf this year, and the very first talk was a <a href="http://www.confreaks.com/videos/3315-railsconf-keynote-writing-software">keynote by</a> <a href="http://www.confreaks.com/videos/3315-railsconf-keynote-writing-software">David Heinemeier Hansson (DHH)</a>, the creator of Ruby on Rails. The TL;DR of his talk was “TDD rarely has value”. He followed up with a blog post the next day, titled “<a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html">TDD is dead. Long live testing.</a>“, and <a href="http://david.heinemeierhansson.com/2014/test-induced-design-damage.html">2 more</a> <a href="http://david.heinemeierhansson.com/2014/slow-database-test-fallacy.html">posts</a>. I think this line of thought is terribly misguided, and causing more harm than good. This article is my response.</p>
<p>First, I would like to address the good points of the talk. He said that programming is pseudoscience, and that people want to tell us that there’s a secret to being a better programmer. But what it really takes is working hard — reading a lot of code, writing a lot of code, and rewriting a lot of code. He’s right. And I also agree with him that you should forget about patterns for a while when learning to code. Beginners try to throw patterns at a problem instead of letting the patterns emerge where they’re supposed to.</p>
<p>I don’t completely agree that programming is a pseudoscience. In some ways it is, but I think it’s more of a craft. It’s a craft, because there’s a lot of science involved, but there’s also an art to doing it well. And like any craft, you’re always working to get better. So to respond to DHH’s stance that “software is more like poetry than physics”, I think it falls<br/>
somewhere in between.</p>
<p>With regard to the software engineering practices we use, there really isn’t much science available, mostly because it’s a soft science. That is, it’s really hard to isolate a single variable when comparing code between projects. And nobody has the time or money to write the same code so many times that the differences would be statistically significant.</p>
<p>So we don’t have much science on TDD. But we do have some. Here’s a collection of several: <a href="http://biblio.gdinwiddie.com/biblio/StudiesOfTestDrivenDevelopment">StudiesOfTestDrivenDevelopment</a>. And here’s one that explicitly looks are the difference between test-first and test-last: <a href="http://digitalcommons.calpoly.edu/cgi/viewcontent.cgi?article=1027&amp;context=csse_fac">Does Test-Driven Development Really Improve Software Design Quality?</a> What do these tell us? They tell us that TDD costs us about 10-30% in short-term productivity; reduces bugs by 30-90%, and decreases code complexity by about 30%. As <a href="http://www.cc2e.com/Default.aspx">Code Complete</a> tells us (in section 20.5, with studies to back it up), improving quality reduces development costs. So, like most Agile practices, this is a case where spending a bit more time in the short term leads to time savings in the long term.</p>
<p>The more important lesson in the talk was that you have to do what works best for you and your situation. If TDD doesn’t give better results, then either find out how to make it give better results, or stop using it. As we often say in the Agile world, Agile doesn’t mean that you can stop using your brain. While I think TDD is appropriate in most situations, there are cases where it’s not worth the additional up-front cost. If the most important thing for your project is time-to-market, then not testing might be the right decision for you.</p>
<p>To me, TDD provides a bunch of benefits. First and foremost, TDD is a design discipline. It ensures that I think about how my code will be used before I think about how to implement it. This is very powerful in ensuring that the code is well-written from the perspective of other code using it.</p>
<p>Tested code provides confidence to be able to make changes without breaking things. If we write tests after the code, we’re less likely to write them. Tests written after the code also tend to test the implementation instead of the desired functionality. What we really want is tests written as a specification. With tests as a specification, we can come back later and understand why code was written. Without tests, or with poor tests, we can’t understand why the code is there; if we want to rewrite it, we don’t have the confidence that we’re not missing something. Writing tests first also ensures that we only write the code that is needed to implement the required functionality.</p>
<p>I’m not sure why DHH hasn’t “gotten” TDD. I’m not sure if it’s because he’s  a better coder than average, or if he just thinks in a different way than most of us. I think it’s partly because he doesn’t understand TDD, which he admitted might be the case. And I think he’s conflating TDD and unit testing.</p>
<p>DHH is influential in the developer community, especially those newer to Ruby and Rails. People listen to what he has to say. I was happy to see almost every other speaker made fun of DHH’s ideas, and most of the crowd knew better. But there will be a lot of others who will hear DHH, respect his opinions, and not give TDD the try that it deserves. And that’s sad, because it will lead to an overall reduction in code quality in the world.</p>
<p>Here are some other people’s thoughts on the matter:</p>
<ul>
<li><a href="http://blog.8thlight.com/uncle-bob/2014/04/25/MonogamousTDD.html">Monogamous TDD</a> by Uncle Bob Martin</li>
<li><a href="http://blog.8thlight.com/uncle-bob/2014/04/30/When-tdd-does-not-work.html">When TDD doesn’t work</a> by Uncle Bob Martin</li>
<li><a href="https://www.facebook.com/notes/kent-beck/rip-tdd/750840194948847">RIP TDD</a> by Kent Beck</li>
<li><a href="http://codon.com/how-testability-can-help">How testability can help</a> by Tom Stuart</li>
<li><a href="http://www.thisagilelife.com/47/">This Agile Life Episode 47</a> (including myself)</li>
</ul>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/05/05/tdd-is-alive-and-well" rel="bookmark"><time class="entry-date published" datetime="2014-05-05T23:50:07+00:00">May 5, 2014</time><time class="updated" datetime="2014-05-27T22:36:25+00:00">May 27, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/webdev/rails" rel="category tag">Ruby on Rails</a>, <a href="../../../category/agile/tdd" rel="category tag">TDD</a></span><span class="comments-link"><a href="../../../2014/05/05/tdd-is-alive-and-well#comments">2 Comments<span class="screen-reader-text"> on TDD Is Alive And Well</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-161 post type-post status-publish format-standard hentry category-agile category-estimation-agile tag-estimation tag-no-estimates" id="post-161">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/03/23/agile-estimation" rel="bookmark">Estimation Isn’t Agile</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I don’t believe that estimation should be part of any Agile practice.</p>
<p>One of our managers recently mentioned that we hadn’t met the “contract” that we had “committed” to in our last iteration. This was complete nonsense, because A) we hadn’t made any such commitments, and B) we completed many more story points than the previous iterations (and without inflating story points).</p>
<p><a href="../../../wp-content/uploads/2014/03/estimates-as-deadlines.png"><img alt="estimates-as-deadlines" class="alignnone size-full wp-image-162" height="361" src="http://blog.boochtek.com/wp-content/uploads/2014/03/estimates-as-deadlines.png" width="500"/></a></p>
<p>But her language made me come to several realizations. First and foremost, estimates are contracts. Sure, they’re not <strong>supposed</strong> to be treated as commitments, but they almost always are. And what does the <a href="http://agilemanifesto.org/">Agile Manifesto</a> say about this? It says that we should value customer collaboration over contract negotiation, and responding to change over following a plan. So it’s pretty clear that treating estimates as commitments is completely counter to the Agile values.</p>
<p>Why does this matter? What benefits do the Agile values bring us? I think the biggest benefit they bring is changing the way that we work, so that we can better deliver value to our customers. Without Agile, we’d just keep working the way we’ve always done things. And that didn’t seem to be working out so well. If we follow the Agile values and principles, at least we’ll have a fighting chance of improving our ability to deliver value.</p>
<p>Ask yourself — have you ever seen a software development project that was on time and on budget? Where the estimates were spot-on? Of course not. For one, we’re terrible at estimating. For another, our plans change — either from external factors, or from what we learn as we go.</p>
<h1>Improved Estimation</h1>
<p>To me, Agile is also about facing reality — and embracing it. It realizes that we’re terrible at estimating. It realizes that plans change. Most Agile methodologies have some tricks to counteract <b><a href="http://en.wikipedia.org/wiki/Hofstadter's_law">Hofstadter’s law</a></b>. Generally, we use relative story points instead of hours, and then use an empirical factor to convert points to hours.</p>
<p>When this works, it is better than any other estimation I’ve ever seen. But it doesn’t work very often. People have trouble with relative estimation. How do you set the basis for what a point means without relating it to actual hours? Affinity estimation could work, but then you have to remember what the basis was. We’ve got a large distributed team, and when we tried this, we couldn’t all remember what the basis was.</p>
<p>Since we couldn’t get affinity estimation to work, we tried changing to perfect hours (only powers of 2). But then people thought of them as time. When we took longer than the estimate on an individual story, managers and team members thought we were taking longer than we should have. So our estimates ended up causing problems.</p>
<h1>What Can We Do Instead?</h1>
<p>Managers want estimates so that they can have predictability. They want to know when new features will be available. Is there a better way to get what we need?</p>
<p>I believe there’s a better way — prioritization. If you work on the most important thing first, then the most important thing will get done first. We should <strong>always</strong> be working on the next most important thing.</p>
<p>What if there’s more than 1 thing that’s most important? Then you’ve failed. You’ve failed at logic if you can’t understand that only 1 thing can be most important. You’ve failed at prioritizing the customers’ needs. You’ve failed at project management.</p>
<h1>Arguments</h1>
<p>1. Why can’t you just tell us how long it will really take?</p>
<p>Because we don’t know. Because we <strong>can’t</strong> know. This is the first time we’ve ever implemented the functionality you’ve asked for. If we’d done it before, we’d just use that existing code. As Glenn Vanderburg pointed out in his excellent talk on <a href="http://www.infoq.com/presentations/Software-Engineering">Software Engineering</a>, we’re not building software, we’re architecting it.</p>
<p>2. But we have to tell our customers what to expect.</p>
<p>Why? Is the product so bad that you can’t keep customers around without leading them on with future enhancements? And why do customers need exact dates? A general roadmap telling them what the priorities for upcoming features should be sufficient.</p>
<p>3. But we have to have messaging about new features.</p>
<p>OK. Then send out that messaging once the feature has made it to Staging. Or even after it’s been rolled out to Production.</p>
<p>4. But we’ve promised these new features to the customers by this date.</p>
<p>Ah, so you’ve made promises to the customer that you don’t have control over. Have you ever heard of “under-promise and over-deliver”? That’s how you create happy customers. Yet you’ve done just the opposite, haven’t you? And then you want to blame someone else.</p>
<p><span style="color: #000000; font-weight: bold;">Risk</span></p>
<p>Estimates are risk. But the risk doesn’t come at the end, when the estimates are shown to be incorrect. The risk was in asking for the estimates in the first place, and placing trust in them. Don’t do it. Don’t promise things that you can’t be sure of.</p>
<p>Embrace this reality. Embrace this uncertainty. Always focus on what’s most important. That’s how you make customers happy.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/03/23/agile-estimation" rel="bookmark"><time class="entry-date published" datetime="2014-03-23T23:02:28+00:00">March 23, 2014</time><time class="updated" datetime="2015-11-30T21:16:30+00:00">November 30, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/agile/estimation-agile" rel="category tag">Estimation</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/estimation" rel="tag">estimation</a>, <a href="../../../tag/no-estimates" rel="tag">no estimates</a></span><span class="comments-link"><a href="../../../2014/03/23/agile-estimation#comments">3 Comments<span class="screen-reader-text"> on Estimation Isn’t Agile</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-154 post type-post status-publish format-standard hentry category-agile category-programming" id="post-154">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/03/16/slow-down" rel="bookmark">Slow Down!</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>There’s a tweet that I saw recently, with some simple advice for novice programmers:</p>
<blockquote><p>Slow down.</p></blockquote>
<p>This is probably good advice for most programmers. Our team recently noticed that every time we try to rush things, we make mistakes. And the mistakes end up costing us more time than if we had just done things at our normal pace. Slowing down ensures that you do things right, and when you do things right, you end up with a higher-quality product.</p>
<h1>Speed and Code Quality</h1>
<p>There are 2 types of code quality: internal and external. External code quality can be measured by how many bugs have been reported by customers. Internal code quality is harder to measure, but it mainly deals with the ability to change the code. When your internal quality is low, you’ve got lots of technical debt, and it’s harder to make changes.</p>
<p>So when you try to write code quickly, code quality decreases, leading to a code base that takes more time to make changes to. Conversely, when you slow down, your code quality improves, and it becomes easier to make changes more quickly. So when writing code, slowing down in the short run leads to a speed-up in the long run.</p>
<h1>Speed and Process Improvement</h1>
<p>But writing code isn’t the only place where we try to speed up. On an Agile team, we’re always trying to improve the way we work — especially at the beginning stages of an Agile transformation. So we’re eager to make changes in our processes. But I’d urge you to slow down here as well.</p>
<p>My colleague <a href="http://dirtyinformation.com/">Amos</a> and I frequently argue over pair switching. It’s funny, because we agree on everything except for 1 small detail. We both think pair switching is very important, to ensure that team members see more of what’s going on, to bring more ideas to each story, to prevent knowledge silos, and to encourage team ownership. Where we disagree is how long an ideal pairing session should last. I think pairs should switch every 2 hours, and he thinks 1 hour is ideal. I’ve seen teams reach the 1 hour pairing sessions successfully. But usually not without some pain and even often failing at the first attempt.</p>
<p>There’s nothing inherently wrong with failing. But if you fail at something, you’re not likely to try again. After all, you should learn from your failures, right?</p>
<p>So if you want your team to do something, you probably don’t want them to fail at it. If they fail, they won’t want to try a second time. That’s just human nature, and learning from failure. While you might think that they failed because they weren’t ready for the change yet, they’ll most likely think that they failed because this particular change won’t work for their situation. And they probably won’t know what to change when trying again, so they won’t try again.</p>
<p>I’ve seen this over and over. Back when Linux was up-and-coming, when a consultant pushed a company into using Linux before they were ready for it, and it didn’t work out, that company was cautious about trying again. So instead of being on the leading edge of using Linux, or even the middle of the pack, they ended up more toward the trailing edge. Had they not been pushed, they would have gotten more benefit in the long run.</p>
<p>So my advice in process improvement is the same as in programming: slow down. Take small steps toward what you think is the ideal. Make a small change, see how it works out, and adjust. As long as you’re still moving in the right direction, I believe you’ll move faster by taking small steps than by trying to make big leaps.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/03/16/slow-down" rel="bookmark"><time class="entry-date published updated" datetime="2014-03-16T23:14:45+00:00">March 16, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/programming" rel="category tag">Programming</a></span><span class="comments-link"><a href="../../../2014/03/16/slow-down#respond">Leave a comment<span class="screen-reader-text"> on Slow Down!</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-116 post type-post status-publish format-standard hentry category-agile category-security" id="post-116">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/02/07/empathy" rel="bookmark">Empathy</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I facilitated our team retrospective this morning. I felt like we made a little forward progress, but not as much as I would have liked. But it really brought one thing to the forefront of my thoughts today — empathy gained through communication.</p>
<p>We have a pretty large team by Agile standards — we had 20 people in our retro: 16 developers, 3 QA folks, and 1 manager. Out of those, only about 5 or 6 speak up regularly. I recently sent out a survey to the team, trying to get feedback on how we could improve our retros. A couple of the questions tried to get a feel for why people aren’t speaking up more. Only about half the people responded, and the answers didn’t really answer my question as well as I had hoped.</p>
<p>So on <a href="http://dirtyinformation.com/">Amos</a>‘s suggestion, we did the <a href="http://www.akashb.com/blog/2012/05/28/agile-retrospectives-the-safety-check/">Safety Check</a> exercise. We got a good set of answers to why people don’t feel safe. About half of the answers were about the fear of looking stupid in front of other people. About half of <em>those</em> mentioned the manager — they’re worried they might get in trouble for what they say. We talked some about fear and how it’s more often than not misplaced. And that the worst consequences are usually not as bad as you might think. But then we got to the crux of the problem — there’s not enough trust amongst the team, and especially between the team members and the manager.</p>
<p>About half of our team is new (within the past 6 months) — including the manager. While the developers have made some good progress building trust amongst each other, we haven’t had as much time with the manager to build trust between him and the rest of the team. So the lack of trust isn’t at all surprising.</p>
<p>Honestly, I already knew we had trust issues, and wanted to address them, but needed a way to lead the team to that same realization. With this exercise driving out the issue, we were then able to have a conversation about trust. The conversation was pretty good. We got more voices to contribute than probably any other topic we’d previously covered. (I was disappointed that the manager kept quiet though. I later found that he was trying to mitigate people’s fears by keeping quiet, but I urged him to contribute more in the future.)</p>
<p>But one point really stood out in my mind — a point of view that I hadn’t previously thought much about. Lauren, one of our QA analysts, pointed out that most human communication is non-verbal. We give tons of cues via body language, facial expressions, eye contact, tone of voice, even posture. I don’t recall if Lauren said it explicitly, but she pointed out that these cues build empathy between the speakers. She encouraged us to use more voice chat and video chat, as opposed to IRC text chat, because it would create more empathy between the people communicating, which would lead to more trust.</p>
<p>I spent most of the rest of the day talking to people on the phone or via Google Hangouts voice. And every single time, I consciously noticed that I was gaining empathy for the person I was speaking with. I assume (and hope) that that’s working both ways. I suppose that it’s always been happening, but I never really noticed it.</p>
<p>I’ve heard a lot of talk about empathy among Agile practitioners lately. It’s been mentioned on the <a href="http://rubyrogues.com/">Ruby Rogues</a> podcast, and <a href="http://maitria.com/angela.html">Angela Harms</a> has been preaching it for years. I already understood how important it is. But until today, I didn’t really <em>feel</em> it happening.</p>
<p>So if you’re looking to build trust with someone, spend some time talking with them. Preferably in person, but if that’s not possible, seriously consider video or voice modes of communication, instead of sending an email or an instant message.</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/02/07/empathy" rel="bookmark"><time class="entry-date published" datetime="2014-02-07T21:23:48+00:00">February 7, 2014</time><time class="updated" datetime="2014-02-10T12:04:08+00:00">February 10, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/security" rel="category tag">Security</a></span><span class="comments-link"><a href="../../../2014/02/07/empathy#respond">Leave a comment<span class="screen-reader-text"> on Empathy</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-93 post type-post status-publish format-standard hentry category-oop category-rails category-tdd" id="post-93">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/01/26/testing-rails-validators" rel="bookmark">Testing Rails Validators</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>It’s challenging to test Rails custom validators.</p>
<p>I recently had to write a validator to require that an entered date is before or after a specified date.</p>
<p>It didn’t seem like writing the validator would be too difficult – I’ve written custom validators before, and date comparisons aren’t all that tricky. But when it came time to write the tests, I ran into several issues. And since I always try to follow TDD / test-first, I was blocked before I even began.</p>
<p>The biggest issue was the <code>ActiveModel::EachValidator#validates_each</code> API. It’s definitely not a well-designed API. You write your validator as a subclass, overriding <code>validates_each</code>. The method takes a model object, the name of the attribute of the model being tested, and the value of that attribute. You can also get the options passed to the custom validator via the <code>options</code> method. To perform a validation, you have to update the model’s <code>errors</code> hash.</p>
<p>The big flaw in the API is that instead of returning a result, you have to update the model. This needlessly couples the model and the validator. And it violates the Single Responsibility Principle — it has to determine validity of the field, and it has to update the <code>errors</code> hash of the model. This is not conducive to testing. Testing this method requires testing that the side-effect has taken place in the collaborator (model), which means it’s not really a unit test any more.</p>
<p>So to make it easier to unit test the validator, I broke the coupling by breaking it into 2 pieces, one for each responsibility. I moved the responsibility for determining validity to a separate method, which I called <code>errors_for</code>. It returns a hash of the errors found. This simplified the <code>validates_each</code> method to simply take the result of <code>errors_for</code> and update the <code>errors</code> hash of the model:</p>
<pre>def validate_each(record, attribute_name, attribute_value)
  record.errors[attribute_name].concat(errors_for(attribute_value, options))
end</pre>
<p>This made it much easier to unit test the <code>errors_for</code> method. This method doesn’t even need to know about the model — only about the value of the attribute we’re trying to validate. We simply pass in the attribute’s value and the options.</p>
<p>So we could write the tests without even pulling in ActiveRecord or any models:</p>
<pre>describe DateValidator do
  let(:validator) { DateValidator.new(attributes: :attribute_name) }
  let(:errors) { validator.errors_for(attribute_value, validation_options) }

  describe 'when attribute value is NOT a valid date' do
    let(:attribute_value) { 'not a valid date' }
    it { errors.must_include 'is not a valid date' }
  end

  describe 'when attribute value IS a valid date' do
    let(:attribute_value) { Date.parse('2013-12-11') }
    it { errors.must_be :empty? }
  end
end</pre>
<p>And the <code>errors_for</code> method looked something like this:</p>
<pre>def errors_for(attribute_value, options)
  unless attribute_value.is_a?(Date)
    return [options.fetch(:message, "is not a valid date")]
  end
  []
end</pre>
<p>Integration testing can also be a bit of a challenge. I recommend following the example from <a href="http://stackoverflow.com/a/17739176">this Stack Overflow answer</a>. Basically, create a minimal model object that contains the field and the validation. Then test that the model behaves like you expect with different values and validations.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/01/26/testing-rails-validators" rel="bookmark"><time class="entry-date published updated" datetime="2014-01-26T23:27:07+00:00">January 26, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming/oop" rel="category tag">OOP</a>, <a href="../../../category/webdev/rails" rel="category tag">Ruby on Rails</a>, <a href="../../../category/agile/tdd" rel="category tag">TDD</a></span><span class="comments-link"><a href="../../../2014/01/26/testing-rails-validators#respond">Leave a comment<span class="screen-reader-text"> on Testing Rails Validators</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<nav class="navigation pagination" role="navigation">
<h2 class="screen-reader-text">Posts navigation</h2>
<div class="nav-links"><a class="prev page-numbers" href="../../../category/agile/">Previous page</a>
<a class="page-numbers" href="../../../category/agile/"><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class="page-numbers current"><span class="meta-nav screen-reader-text">Page </span>2</span>
<a class="page-numbers" href="../../../category/agile/page/3"><span class="meta-nav screen-reader-text">Page </span>3</a>
<a class="next page-numbers" href="../../../category/agile/page/3">Next page</a></div>
</nav>
</main><!-- .site-main -->
</div><!-- .content-area -->
<aside class="sidebar widget-area" id="secondary" role="complementary">
<section class="widget widget_pages" id="pages-2"><h2 class="widget-title">Pages</h2> <ul>
<li class="page_item page-item-2"><a href="../../../about">About</a></li>
</ul>
</section><section class="widget widget_categories" id="categories-4"><h2 class="widget-title">Categories</h2> <ul>
<li class="cat-item cat-item-17 current-cat"><a href="../../../category/agile">Agile</a>
</li>
<li class="cat-item cat-item-26"><a href="../../../category/programming/architecture">Architecture</a>
</li>
<li class="cat-item cat-item-20"><a href="../../../category/blogging">Blogging</a>
</li>
<li class="cat-item cat-item-25"><a href="../../../category/programming/programming-languages/brilliant">Brilliant</a>
</li>
<li class="cat-item cat-item-30"><a href="../../../category/agile/empathy">Empathy</a>
</li>
<li class="cat-item cat-item-27"><a href="../../../category/agile/estimation-agile">Estimation</a>
</li>
<li class="cat-item cat-item-22"><a href="../../../category/gadgets">Gadgets</a>
</li>
<li class="cat-item cat-item-7"><a href="../../../category/open-source/linux">GNU/Linux</a>
</li>
<li class="cat-item cat-item-9"><a href="../../../category/programming/programming-languages">Languages</a>
</li>
<li class="cat-item cat-item-19"><a href="../../../category/programming/oop">OOP</a>
</li>
<li class="cat-item cat-item-5"><a href="../../../category/open-source">Open Source</a>
</li>
<li class="cat-item cat-item-8"><a href="../../../category/programming">Programming</a>
</li>
<li class="cat-item cat-item-16"><a href="../../../category/programming/programming-languages/python">Python</a>
</li>
<li class="cat-item cat-item-29"><a href="../../../category/resolutions">Resolutions</a>
</li>
<li class="cat-item cat-item-28"><a href="../../../category/agile/retrospectives">Retrospectives</a>
</li>
<li class="cat-item cat-item-10"><a href="../../../category/programming/programming-languages/ruby">Ruby</a>
</li>
<li class="cat-item cat-item-6"><a href="../../../category/webdev/rails">Ruby on Rails</a>
</li>
<li class="cat-item cat-item-12"><a href="../../../category/security">Security</a>
</li>
<li class="cat-item cat-item-21"><a href="../../../category/programming/programming-languages/shell">Shell</a>
</li>
<li class="cat-item cat-item-13"><a href="../../../category/sysadmin">System Admin</a>
</li>
<li class="cat-item cat-item-18"><a href="../../../category/agile/tdd">TDD</a>
</li>
<li class="cat-item cat-item-4"><a href="../../../category/webdev">Web Development</a>
</li>
</ul>
</section> </aside><!-- .sidebar .widget-area -->
</div><!-- .site-content -->
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-info">
<span class="site-title"><a href="../../../" rel="home">BoochTek, LLC</a></span>
<a href="https://wordpress.org/">Proudly powered by WordPress</a>
</div><!-- .site-info -->
</footer><!-- .site-footer -->
</div><!-- .site-inner -->
</div><!-- .site -->
<script src="../../../../wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20150825" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script src="../../../../wp-content/themes/twentysixteen/js/functions.js?ver=20150825" type="text/javascript"></script>
<script src="../../../../wp-includes/js/wp-embed.min.js?ver=4.7.2" type="text/javascript"></script>
</body>
</html>
