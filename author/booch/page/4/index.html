<!DOCTYPE html>

<html class="no-js" lang="en-US">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="http://gmpg.org/xfn/11" rel="profile"/>
<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Craig Buchek – Page 4 – BoochTek, LLC</title>
<link href="../../../../feed" rel="alternate" title="BoochTek, LLC » Feed" type="application/rss+xml"/>
<link href="../../../../comments/feed" rel="alternate" title="BoochTek, LLC » Comments Feed" type="application/rss+xml"/>
<link href="../../../../author/booch/feed" rel="alternate" title="BoochTek, LLC » Posts by Craig Buchek Feed" type="application/rss+xml">
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.boochtek.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.3"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link href="https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext" id="twentysixteen-fonts-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../../../wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1" id="genericons-css" media="all" rel="stylesheet" type="text/css"/>
<link href="../../../../wp-content/themes/twentysixteen/style.css?ver=4.5.3" id="twentysixteen-style-css" media="all" rel="stylesheet" type="text/css"/>
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='http://blog.boochtek.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script src="../../../../wp-includes/js/jquery/jquery.js?ver=1.12.4" type="text/javascript"></script>
<script src="../../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1" type="text/javascript"></script>
<link href="../../../../wp-json/" rel="https://api.w.org/"/>
<link href="../../../../xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="../../../../wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<meta content="WordPress 4.5.3" name="generator"/>
</link></head>
<body class="archive paged author author-booch author-2 paged-4 author-paged-4 hfeed">
<div class="site" id="page">
<div class="site-inner">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<header class="site-header" id="masthead" role="banner">
<div class="site-header-main">
<div class="site-branding">
<p class="site-title"><a href="../../../" rel="home">BoochTek, LLC</a></p>
<p class="site-description">Web Development, Ruby on Rails, Open Source</p>
</div><!-- .site-branding -->
</div><!-- .site-header-main -->
</header><!-- .site-header -->
<div class="site-content" id="content">
<div class="content-area" id="primary">
<main class="site-main" id="main" role="main">
<header class="page-header">
<h1 class="page-title">Author: <span class="vcard">Craig Buchek</span></h1> </header><!-- .page-header -->
<article class="post-104 post type-post status-publish format-standard hentry category-oop category-ruby category-rails" id="post-104">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/02/10/includable-activerecord" rel="bookmark">Includable ActiveRecord</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I created a Ruby gem recently, called <a href="https://github.com/boochtek/includable-activerecord">includable-activerecord</a>. It’s pretty small, but I thought I might explain why I created it, and discuss its implementation.</p>
<h1>Classical Inheritance</h1>
<p>When you use ActiveRecord, you normally include it in your model like this:</p>
<pre>class User &lt; ActiveRecord::Base
  # ...
end</pre>
<p>Your <code>User</code> class is inheriting from the <code>ActiveRecord::Base</code> class. This is class-based inheritance, also called “classical” inheritance. (That’s “classical” as in “class”, not as a synonym for “traditional”.) Class-based inheritance represents an “is-a” relationship. So we’re saying that a user is an ActiveRecord base. Another way to say this is that <code>User</code> is a subclass of <code>ActiveRecord::Base.<br/>
</code><br/>
There are a few problems with this. First, what is a “base”? The name was chosen because it’s a base class. But just like we don’t give factory classes names like <code>UserFactory</code> (at least not in Ruby), we shouldn’t name base classes <code>Base</code>.</p>
<p>I suppose that we’re trying to say that this is an ActiveRecord model. That sounds fine at first glance — this is our model for users. But what if we also want to say that a user is a person? Ruby doesn’t allow inheriting from multiple classes. Now we have to choose whether to inherit from <code>ActiveRecord::Base</code> or <code>Person</code>. <code>Person</code> makes more sense, because it fills the “is-a” rule better. Class inheritance is intended for a hierarchical “is-a” relationship, such as “a user is a person”, or “a circle is a shape”. But since <code>ActiveRecord::Base</code> is a base class, we <strong>have</strong> to use it as our base class.</p>
<p>We could work around this problem by subclassing <code>Person</code> from <code>ActiveRecord::Base</code> and then subclassing <code>User</code> from <code>Person</code>. That’s fine if <code>Person</code> is also a model that we store in the database. But if that’s not the case, then we have a problem.</p>
<p><span style="color: #000000; font-weight: bold;">Mixins</span></p>
<p>Ruby provides another way of implementing inheritance — mixins. We often don’t think of this as an inheritance model, but it really is. When we include a module, that module gets added to the class’s ancestor chain. We can mix in as many modules as we want.</p>
<p>Mixins indicate more of an “acts like” relationship than an “is-a” relationship. It’s for shared behavior between classes that don’t have a hierarchical relationship. For example, when we mix in the <code>Enumerable</code> module, we’re saying that we want our class to act like other classes that include <code>Enumerable</code>. That sounds more like what we want ActiveRecord to be. We want our user model to behave like other ActiveRecord models, in the way that they can persist to a database.</p>
<p>But ActiveRecord doesn’t support that. Almost all the other Ruby ORMs do; as we’ve shown above, this is for good reasons.</p>
<h1>Implementation</h1>
<p>So I decided to see if I could implement the equivalent of the <code>ActiveRecord::Base</code> class as a module that could be mixed into model classes. I decided to call my mixin module <code>ActiveRecord::Model</code>, because classes that mix it in will behave as ActiveRecord models.</p>
<p>It turns out that <code>ActiveRecord::Base</code> is a pretty complex class. It includes and extends a lot of other modules. Luckily, as of ActiveRecord 4.0, that’s <strong>all</strong> the code it includes.</p>
<p>The module only defines a single class method, <a href="http://www.ruby-doc.org/core-2.0.0/Module.html#method-i-included"><code>included</code></a>. This is one of <a href="http://stackoverflow.com/questions/5127819/is-this-a-comprehensive-list-of-ruby-hook-methods">Ruby’s many hook methods</a>. It gets called when the module in question gets included in another module, and receives that other model as its argument. All we need to have this method do is to <code style="font-style: inherit;">include</code> everything that <code style="font-style: inherit;">ActiveRecord::Base</code> includes, and <code style="font-style: inherit;">extend</code> everything that <code style="font-style: inherit;">ActiveRecord::Base</code> extends. Ruby provides a method that’s defined on all classes, called <code style="font-style: inherit;">included_modules</code>, which we can use to get the list of everything that’s included in <code style="font-style: inherit;">ActiveRecord::Base</code>. Unfortunately, there’s no equivalent list of <code style="font-style: inherit;">extended_modules</code>. But a quick search on Stack Overflow found <a href="http://stackoverflow.com/a/5197277">an implementation of <code>extended_modules</code></a> that we could use.</p>
<p>So with a bit of magic (i.e. hooks and meta-programming), we can get the lists of constituent modules from the <code>ActiveRecord::Base</code> class, and include them in our <code>ActiveRecord::Model</code> module.</p>
<p>So with all that, we can now include the <a href="https://github.com/boochtek/includable-activerecord">includable-activerecord</a> gem and mix it in, with all the advantages that provides:</p>
<pre>class User
  include ActiveRecord::Model
  # ...
end</pre>
<p>It was exciting to be able to make this work. Since I wrote it as a proof of concept, I haven’t written any tests yet. But it seems to be working just fine. The main thing I really need to look into is making sure that plugins that extend <code>ActiveRecord::Base</code> from their own code will still work. I’m pretty sure this will work out of the box, because the <code>ActiveRecord::Model.included</code> doesn’t run until the model class is loaded, and that happens after those plugins have initialized themselves.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/02/10/includable-activerecord" rel="bookmark"><time class="entry-date published" datetime="2014-02-10T12:09:53+00:00">February 10, 2014</time><time class="updated" datetime="2014-02-18T16:28:58+00:00">February 18, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming/oop" rel="category tag">OOP</a>, <a href="../../../category/programming/programming-languages/ruby" rel="category tag">Ruby</a>, <a href="../../../category/webdev/rails" rel="category tag">Ruby on Rails</a></span><span class="comments-link"><a href="../../../2014/02/10/includable-activerecord#respond">Leave a comment<span class="screen-reader-text"> on Includable ActiveRecord</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-116 post type-post status-publish format-standard hentry category-agile category-security" id="post-116">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/02/07/empathy" rel="bookmark">Empathy</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I facilitated our team retrospective this morning. I felt like we made a little forward progress, but not as much as I would have liked. But it really brought one thing to the forefront of my thoughts today — empathy gained through communication.</p>
<p>We have a pretty large team by Agile standards — we had 20 people in our retro: 16 developers, 3 QA folks, and 1 manager. Out of those, only about 5 or 6 speak up regularly. I recently sent out a survey to the team, trying to get feedback on how we could improve our retros. A couple of the questions tried to get a feel for why people aren’t speaking up more. Only about half the people responded, and the answers didn’t really answer my question as well as I had hoped.</p>
<p>So on <a href="http://dirtyinformation.com/">Amos</a>‘s suggestion, we did the <a href="http://www.akashb.com/blog/2012/05/28/agile-retrospectives-the-safety-check/">Safety Check</a> exercise. We got a good set of answers to why people don’t feel safe. About half of the answers were about the fear of looking stupid in front of other people. About half of <em>those</em> mentioned the manager — they’re worried they might get in trouble for what they say. We talked some about fear and how it’s more often than not misplaced. And that the worst consequences are usually not as bad as you might think. But then we got to the crux of the problem — there’s not enough trust amongst the team, and especially between the team members and the manager.</p>
<p>About half of our team is new (within the past 6 months) — including the manager. While the developers have made some good progress building trust amongst each other, we haven’t had as much time with the manager to build trust between him and the rest of the team. So the lack of trust isn’t at all surprising.</p>
<p>Honestly, I already knew we had trust issues, and wanted to address them, but needed a way to lead the team to that same realization. With this exercise driving out the issue, we were then able to have a conversation about trust. The conversation was pretty good. We got more voices to contribute than probably any other topic we’d previously covered. (I was disappointed that the manager kept quiet though. I later found that he was trying to mitigate people’s fears by keeping quiet, but I urged him to contribute more in the future.)</p>
<p>But one point really stood out in my mind — a point of view that I hadn’t previously thought much about. Lauren, one of our QA analysts, pointed out that most human communication is non-verbal. We give tons of cues via body language, facial expressions, eye contact, tone of voice, even posture. I don’t recall if Lauren said it explicitly, but she pointed out that these cues build empathy between the speakers. She encouraged us to use more voice chat and video chat, as opposed to IRC text chat, because it would create more empathy between the people communicating, which would lead to more trust.</p>
<p>I spent most of the rest of the day talking to people on the phone or via Google Hangouts voice. And every single time, I consciously noticed that I was gaining empathy for the person I was speaking with. I assume (and hope) that that’s working both ways. I suppose that it’s always been happening, but I never really noticed it.</p>
<p>I’ve heard a lot of talk about empathy among Agile practitioners lately. It’s been mentioned on the <a href="http://rubyrogues.com/">Ruby Rogues</a> podcast, and <a href="http://maitria.com/angela.html">Angela Harms</a> has been preaching it for years. I already understood how important it is. But until today, I didn’t really <em>feel</em> it happening.</p>
<p>So if you’re looking to build trust with someone, spend some time talking with them. Preferably in person, but if that’s not possible, seriously consider video or voice modes of communication, instead of sending an email or an instant message.</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/02/07/empathy" rel="bookmark"><time class="entry-date published" datetime="2014-02-07T21:23:48+00:00">February 7, 2014</time><time class="updated" datetime="2014-02-10T12:04:08+00:00">February 10, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a>, <a href="../../../category/security" rel="category tag">Security</a></span><span class="comments-link"><a href="../../../2014/02/07/empathy#respond">Leave a comment<span class="screen-reader-text"> on Empathy</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-100 post type-post status-publish format-standard hentry category-blogging category-security category-sysadmin" id="post-100">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/02/02/blogging-software" rel="bookmark">What I Want in a Blog Engine</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I’m considering moving away from <a href="http://wordpress.org">WordPress</a>, for a couple reasons:</p>
<ul>
<li>Security. There have been several vulnerabilities over the past few years, and I’ve never really had a high level of confidence that it’s secure. In addition, I now find the whole PHP model — every web app running as a single user, instead of leveraging UNIX permissions — to be broken.</li>
<li>Speed. I started to realize a couple years ago that a blog engine should generate static pages. The static pages should be updated whenever new content is added. There’s really no reason to re-generate the page every time someone wants to read it. At the very least, Server-Side Includes (<a href="https://en.wikipedia.org/wiki/Server_Side_Includes">SSI</a>) or Edge-Side Includes (<a href="https://en.wikipedia.org/wiki/Edge_Side_Includes">ESI</a>) should be used.</li>
</ul>
<p>Now that I’m starting to actually blog consistently, it makes sense to change. But before I move to something different, I want to be sure that I find all the features that I need. This post is my thought process about what I want.</p>
<h2>Requirements</h2>
<ul>
<li>Self hosted. I like to run my own servers. Partly so I can keep full control, and partly because I enjoy doing some system admin stuff (as long as it doesn’t take too much time).</li>
<li>Generation of static pages. Almost everything should be a static page by the time a user requests a page. Obviously, submitting comments would hit a dynamic page, and comment approval would likely be done through a dynamic part of the site. But <em>publishing</em> a blog post or comments should generate static files to be served by Apache or nginx.</li>
<li>Categories (or maybe tags). I want readers to be able to find other things that I’ve written that might interest them. A list of categories in a sidebar would help them find what interests them.</li>
<li>Site map. Especially an <a href="http://www.sitemaps.org/protocol.html">XML sitemap</a>, so Google can index better. I also like the idea of readers being able to see everything in one place.</li>
<li>Archives. This is another way of letting readers see everything I’ve written, organized by publication date.</li>
<li>RSS and/or Atom. I want readers to be able to subscribe to my blog.</li>
<li>Media. I don’t think I necessarily need a media manager, just a simple way to add pictures to blog posts.</li>
<li>Comments. I want to allow comments, but I don’t want to use anything like <a href="http://disqus.com/">Disqus</a>. I want the comments to be in my own database, so they won’t disappear. I also dislike requiring JavaScript just to see comments. And I’ve worked at places where Disqus wouldn’t work, due to web proxy servers. Comments should be moderated by the site admin, editor, or author. Readers should not have to log in to post a comment, but it would be nice to <em>allow</em> users to log into Twitter or some other social network to provide their info.</li>
<li>Pingbacks and Tweetbacks. I’d like to be able to see who’s referring to my articles.</li>
</ul>
<h2><b>Nice to Have</b></h2>
<ul>
<li>Free. I almost consider this to be a requirement, but I’d be willing to entertain a 1-time payment for something that meets my needs really well. I need to try to counteract my DIY-at-all-non-monetary-costs mentality.</li>
<li>Open Source. I think Open Source is likely to provide a more useful product, especially in this space. An Open Source option is more likely to improve over time.</li>
<li>Not PHP. I’ve got several problems with PHP. First, the whole PHP model of running in the same context as Apache (or nginx) breaks UNIX conventions. A security issue in a PHP program exposes more than just the program itself — it exposes Apache and every other PHP program. Under the UNIX model, each program runs in a different user context, isolating bugs to that program only. PHP is also a “hacky” language. PHP programmers tend to not be as rigorous (in many ways), leading to more vulnerabilities. Finally, the PHP language itself has had several misfeatures that have lead to security issues — much more than Ruby or Java.</li>
<li>Not MySQL. I’d like to be able to remove MySQL from my servers. PostgreSQL would be much preferred. Storing everything in git would be fine too — maybe even preferred. I’d even be fine with MongoDB or some other simple NoSQL database.</li>
<li>Admin console. I can’t imagine approving comments without this, but I’m not closed to that possibility.</li>
<li>Edit history. I want to be able to update posts, but see what the previous versions looked like. (Not sure if I care whether the public can or cannot see the various revisions.)</li>
<li>WYSIWYG. I’d be willing to settle for Markdown. In fact, I’d prefer (extended) Markdown as the canonical form behind the WYSIWYG.</li>
<li>Code highlighting. A lot of my blog posts (will) include code in various languages. I’d like the blogging software to be able to handle that well. Syntax highlighting would be great. Any other related features would also be nice.</li>
<li>Through-the-web editing. I’d like to be able to edit a page from any device from anywhere that has Internet access.</li>
<li>Reader-submitted edits. This is probably going to be the hardest thing to find, but I’d like a <em>really</em> easy way for readers to let me know of typos and such by simply submitting a fix for them. The author or editor of the post would have to approve the edits, obviously.</li>
<li>Import from WordPress. I don’t have a ton of content in WordPress, or else this would probably be a more firm requirement.</li>
<li>Community. Community helps software thrive, adding improvements and ensuring security.</li>
<li>Plugins. It would be nice for the blog engine to be extensible.</li>
<li>Unpublished drafts and previews. I’d really like to be able to see by blog posts before I release them to the world.</li>
<li>CMS abilities. I’d really like the ability to edit non-blog web pages the same way as blog entries.</li>
<li>Themes. It would be nice to have decently looking themes, so I could have other people help me make the site look nice.</li>
<li>Posting my tweets in a sidebar area. I’d be OK with this being done in client-side JavaScript. I’d also be OK with periodic polling of my Twitter feed, and updating the static content when appropriate.</li>
</ul>
<h2>Candidates</h2>
<p>I’ve been playing with <a href="http://jekyllrb.com/">Jekyll</a> lately, using it to generate a simple static site that can be updated easily. It’s pretty nice, and pretty easy to use. Something based on Jekyll would work well. The trickiest part will be figuring out how to manage comments. Or maybe I’ll just have to learn to live more minimally.</p>
<p><a href="http://octopress.org/">Octopress</a> is the obvious candidate. It fits most of my needs and wants. Most likely I’ll write my own commenting engine and add it to my Octopress template.</p>
<p>The only other candidate that I’ve found is <a href="https://ghost.org/">Ghost</a>. It’s written in JavaScript and runs on Node. I don’t find Node to be that compelling, but the templates look great, and it’s designed for coding blogs.</p>
<p>I’ll probably take a quick look at <a href="http://dropplets.com/">Droplets</a>, too. It’s written in PHP, but seems to fit my other requirements.</p>
<p>Unfortunately, that seems to be all there is in this space. Maybe I need to investigate more. Or maybe Octopress just has the static blog generation marked cornered. Either way, I’ll probably change my blogging software in the next month or two. Wish me luck!</p>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/02/02/blogging-software" rel="bookmark"><time class="entry-date published" datetime="2014-02-02T22:50:43+00:00">February 2, 2014</time><time class="updated" datetime="2015-11-30T21:19:51+00:00">November 30, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/blogging" rel="category tag">Blogging</a>, <a href="../../../category/security" rel="category tag">Security</a>, <a href="../../../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../../../2014/02/02/blogging-software#respond">Leave a comment<span class="screen-reader-text"> on What I Want in a Blog Engine</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-93 post type-post status-publish format-standard hentry category-oop category-rails category-tdd" id="post-93">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/01/26/testing-rails-validators" rel="bookmark">Testing Rails Validators</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>It’s challenging to test Rails custom validators.</p>
<p>I recently had to write a validator to require that an entered date is before or after a specified date.</p>
<p>It didn’t seem like writing the validator would be too difficult – I’ve written custom validators before, and date comparisons aren’t all that tricky. But when it came time to write the tests, I ran into several issues. And since I always try to follow TDD / test-first, I was blocked before I even began.</p>
<p>The biggest issue was the <code>ActiveModel::EachValidator#validates_each</code> API. It’s definitely not a well-designed API. You write your validator as a subclass, overriding <code>validates_each</code>. The method takes a model object, the name of the attribute of the model being tested, and the value of that attribute. You can also get the options passed to the custom validator via the <code>options</code> method. To perform a validation, you have to update the model’s <code>errors</code> hash.</p>
<p>The big flaw in the API is that instead of returning a result, you have to update the model. This needlessly couples the model and the validator. And it violates the Single Responsibility Principle — it has to determine validity of the field, and it has to update the <code>errors</code> hash of the model. This is not conducive to testing. Testing this method requires testing that the side-effect has taken place in the collaborator (model), which means it’s not really a unit test any more.</p>
<p>So to make it easier to unit test the validator, I broke the coupling by breaking it into 2 pieces, one for each responsibility. I moved the responsibility for determining validity to a separate method, which I called <code>errors_for</code>. It returns a hash of the errors found. This simplified the <code>validates_each</code> method to simply take the result of <code>errors_for</code> and update the <code>errors</code> hash of the model:</p>
<pre>def validate_each(record, attribute_name, attribute_value)
  record.errors[attribute_name].concat(errors_for(attribute_value, options))
end</pre>
<p>This made it much easier to unit test the <code>errors_for</code> method. This method doesn’t even need to know about the model — only about the value of the attribute we’re trying to validate. We simply pass in the attribute’s value and the options.</p>
<p>So we could write the tests without even pulling in ActiveRecord or any models:</p>
<pre>describe DateValidator do
  let(:validator) { DateValidator.new(attributes: :attribute_name) }
  let(:errors) { validator.errors_for(attribute_value, validation_options) }

  describe 'when attribute value is NOT a valid date' do
    let(:attribute_value) { 'not a valid date' }
    it { errors.must_include 'is not a valid date' }
  end

  describe 'when attribute value IS a valid date' do
    let(:attribute_value) { Date.parse('2013-12-11') }
    it { errors.must_be :empty? }
  end
end</pre>
<p>And the <code>errors_for</code> method looked something like this:</p>
<pre>def errors_for(attribute_value, options)
  unless attribute_value.is_a?(Date)
    return [options.fetch(:message, "is not a valid date")]
  end
  []
end</pre>
<p>Integration testing can also be a bit of a challenge. I recommend following the example from <a href="http://stackoverflow.com/a/17739176">this Stack Overflow answer</a>. Basically, create a minimal model object that contains the field and the validation. Then test that the model behaves like you expect with different values and validations.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/01/26/testing-rails-validators" rel="bookmark"><time class="entry-date published updated" datetime="2014-01-26T23:27:07+00:00">January 26, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming/oop" rel="category tag">OOP</a>, <a href="../../../category/webdev/rails" rel="category tag">Ruby on Rails</a>, <a href="../../../category/agile/tdd" rel="category tag">TDD</a></span><span class="comments-link"><a href="../../../2014/01/26/testing-rails-validators#respond">Leave a comment<span class="screen-reader-text"> on Testing Rails Validators</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-85 post type-post status-publish format-standard hentry category-agile" id="post-85">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/01/19/introspective" rel="bookmark">Introspective</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>Today I was informed that I’ve been impeding progress on our team.<br/>
This was somewhat shocking, since I feel like I’m always pushing<br/>
forward to make our team and myself better.</p>
<p>Like most anyone, my initial reaction to criticism was defensiveness.<br/>
I don’t handle criticism well. (You might find that hard to believe,<br/>
after reading the rest of this post. Maybe it’s just the confrontation<br/>
part I don’t handle well.) Thankfully the blow was softened somewhat,<br/>
because the person providing the criticism didn’t tell me directly —<br/>
they told <a href="http://dirtyinformation.com/" title="Dirty Information (Amos' blog)">Amos</a>, a trusted colleague of mine. Amos then passed it on to<br/>
me. I’m grateful for that — this is the best way for me to have received<br/>
that criticism.</p>
<p>What I did next is the astonishing thing. I swallowed my pride for a<br/>
minute. Not an easy thing for me to do, for all the usual reasons, and<br/>
more. I decided to address the problem head on. If someone was telling<br/>
someone else that I was causing some sort of a problem, then even that<br/>
perception was a problem that I needed to address. So I decided to hold<br/>
a retrospective for myself. Retrospectives are the way Agile teams address<br/>
problems and improve how they work. If it would work for a team, I figured<br/>
it should work for an individual.</p>
<p>I’d held retrospectives by myself before. Before I even knew about<br/>
retrospectives, I’d taken some time to assess how I had done things<br/>
on a couple of projects I had worked on as an independent contractor. But<br/>
those were about technical decisions I had made and processes I had<br/>
followed. This one would be different. This one was about a personal<br/>
shortcoming, an action of mine that had caused some harm. This one<br/>
involved feelings and emotions.</p>
<p>So I asked Amos to facilitate my one-person retro. We’d both done a lot<br/>
of retrospectives, but neither one of us had done anything like this before.<br/>
We had a bit of trouble getting started. We didn’t have any details<br/>
about why the anonymous person felt the way he felt. So it was hard<br/>
to address something that nebulous. So I asked Amos if he could follow<br/>
up with the person. Luckily, the person was online and able to respond<br/>
in real time.</p>
<p>So we talked things through some. We went on some tangents. We made some<br/>
progress — things that I could write down as take-aways and action items.<br/>
We got off-topic again, and then came back to it. Then Amos decided to<br/>
play <a href="http://en.wikipedia.org/wiki/5_Whys" title="5 Whys">The Why Game</a>. This worked amazingly well. It helped me to find the<br/>
root reasons why I was holding back change. Basically I’m afraid of<br/>
failure. Going deeper, we looked into why I’m afraid of failure. This<br/>
line of inquiry was particularly effective. Hopefully it’ll be enough for<br/>
me to stop being an impediment to change. Here are my notes / take-aways:</p>
<ul>
<li>Be careful playing devil’s advocate in public.
<ul>
<li>People will think I’m taking that stance.</li>
</ul>
</li>
<li>Don’t always take the boss’s side in public.</li>
<li>Don’t be the person to allow the team to take the easy path.</li>
<li>Why do I think that managers won’t let us try a 2nd time?</li>
<li>Why do I think we might fail the first time?
<ul>
<li>I want to put us in a better position to succeed.</li>
</ul>
</li>
<li>I’m being too conservative.</li>
<li>Be willing to fail. Don’t fail to try.</li>
<li>Don’t say we shouldn’t try because I think other people don’t want to try.
<ul>
<li>That is just self-perpetuating.</li>
</ul>
</li>
<li>I’m afraid of failing because I haven’t done it much.
<ul>
<li>Because I’m good at learning from other people’s failures.</li>
<li>But this is holding me back and making me cautious.
<ul>
<li>Despite the fact that I try to not be cautious.</li>
</ul>
</li>
<li>So I need to work to counter-act those fears.</li>
</ul>
</li>
</ul>
<p>At first, I thought that I’d never heard of anyone doing anything like<br/>
this. But then I recalled that I’d heard about somewhere that everyone<br/>
does this, with their whole team. That would be hard. I’d have to<br/>
trust everyone in the room.</p>
<p>But I would recommend this for anyone that can pull it off. It’s hard,<br/>
but it has a large payoff. Just like a team retrospective, it feels good<br/>
making this kind of breakthrough, and knowing that just spending that<br/>
little amount of time has made me a better person. (Mine took about an hour.)<br/>
I think the hardest part is finding someone (or a group of people) you<br/>
trust to be your facilitator.</p>
<p>I’ve decided to call this thing an introspective. A retrospective is<br/>
about looking back. This is about looking inward. I’d be interested to<br/>
find out who is doing this kind of thing. Does it have a commonly accepted<br/>
name? How does it work? What techniques work best? If you’ve got any answers or ideas, please comment below, or tweet me @CraigBuchek.</p>
<p>So thank you to that anonymous person. Your way of addressing this was<br/>
probably more effective than you could have imagined that it might be.<br/>
I hope that this exercise will help me make the changes required, to make<br/>
me a better person, and help the team become the best that we can be.</p>
<p>Amos has written up <a href="http://dirtyinformation.com/blog/2014/01/20/introspective/">his thoughts on the introspective</a>.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/01/19/introspective" rel="bookmark"><time class="entry-date published" datetime="2014-01-19T15:15:26+00:00">January 19, 2014</time><time class="updated" datetime="2014-01-21T09:12:11+00:00">January 21, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/agile" rel="category tag">Agile</a></span><span class="comments-link"><a href="../../../2014/01/19/introspective#comments">2 Comments<span class="screen-reader-text"> on Introspective</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-14 post type-post status-publish format-standard hentry category-open-source" id="post-14">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2014/01/04/open-source-resolutions" rel="bookmark">What’s Your Open Source Resolution?</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I’ve been using GNU/Linux since 1994, starting with a Slackware 2.2 CD-ROM I ordered from the back of a magazine. I’ve been heavily involved in my local GNU/Linux community since 1999, and I give frequent presentations at various groups. I’ve made some small contributions to several Open Source projects.</p>
<p>But I don’t feel like I’ve done enough to contribute to the wider community. So this year, I’m going to resolve to step up my contributions, and do more.</p>
<h2>Change my role in the LUG</h2>
<p>I was lucky enough this past year to find someone interested in helping to run the <a href="http://stllinux.org">St. Louis GNU/Linux Users Group (STLLUG)</a>. I’ve been running the group so long that I’ve somewhat stagnated. It’s great to find someone who will bring a fresh energy and new ideas. Thanks, Andrew!</p>
<p>Mostly freed from the more general administrative tasks (mostly planning meeting topics and speakers), I’m hoping to find the time to work on a few projects. First, I want to overhaul the web site. It needs a new look, as well as an easier way to update it. I’m planning to implement some sort of CMS — possibly WordPress or Octopress, or at the very least, a git repo to manage updates.</p>
<h2>Blog regularly</h2>
<p>I installed WordPress a long time ago, but I haven’t published many posts. I’ve got a few drafts in various stages. So this year I’m going to actually get the blog going, and hopefully post about once a week. I’ll be sharing things I learn on the Internet, as well as some of the things I learn from my experiences with various technologies and techniques.</p>
<h2>Contribute more significant patches</h2>
<p>There are a few items I’ve been meaning to work on and contribute. I’d like to finally get around to them:</p>
<ul>
<li>Make the GNU sort command be able to (easily) sort a list of IP addresses, or semantic version numbers.</li>
<li>Add MySQL-style commands to PostgreSQL: SHOW DATABASES; SHOW TABLES; DESCRIBE table. (I’m not sure how welcome these additions might be, but I think they’d make transitioning from MySQL easier for people.)</li>
</ul>
<h2>Publish and maintain several Ruby gems</h2>
<p>I’ve been working on a few Ruby gems. I’d like to get them to a state where they’re useful to more people. These include:</p>
<ul>
<li>A way to simplify standard CRUD controller actions</li>
<li>A way to declare list views in a manner similar to SimpleForm or Formtastic</li>
<li>A way to declare ActiveRecord attributes in models using Virtus</li>
<li>A higher-level interface to ROM (Ruby Object Mapper)</li>
<li>A similar high-level way to define Perpetuity attributes in models using Virtus</li>
<li>My Rails template, making it much easier to start a Rails app</li>
</ul>
<h2>Build some apps</h2>
<p>I enjoyed building a quick Rails app during last year’s Rails Rumble, even if it doesn’t turn out to be useful or make any money. I’d like to create a few small apps again this year, either in Rails or Apache Cordova. I’ve got some ideas — we’ll see how if they turn into anything useful or worth selling.</p>
<h2>Podcast more often</h2>
<p>Last year, I started joining the <a href="http://www.thisagilelife.com/">This Agile Life</a> podcast. I enjoy it. I’m hoping to continue with that, and possibly doing some podcasting about Ruby and Rails.</p>
<h2>Present at a conference</h2>
<p>I’m going to attempt to give a presentation at a conference. I often give presentations at local groups, but haven’t addressed a larger audience. I’ve got a few ideas rattling around, and will see if I can turn them into presentations worthy of a larger conference.</p>
<p>What’s your Open Source resolution?</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2014/01/04/open-source-resolutions" rel="bookmark"><time class="entry-date published" datetime="2014-01-04T23:02:42+00:00">January 4, 2014</time><time class="updated" datetime="2014-01-07T01:08:16+00:00">January 7, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/open-source" rel="category tag">Open Source</a></span><span class="comments-link"><a href="../../../2014/01/04/open-source-resolutions#respond">Leave a comment<span class="screen-reader-text"> on What’s Your Open Source Resolution?</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-76 post type-post status-publish format-standard hentry category-programming category-python category-ruby" id="post-76">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2013/02/22/my-thoughts-on-python-vs-ruby" rel="bookmark">My Thoughts on Python vs. Ruby</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I’ve been using Python at work for the past few months.  I learned Python back in the early 2000s, but never used it for any large projects.  I learned Ruby in late 2005, and it quickly became my language of choice for most cases.</p>
<p>So while I still prefer Ruby, and will likely use Ruby more in the future than Python, I wanted to assess the strengths and weaknesses of Python in relation to Ruby.  Perhaps some of the lessons could be applied when writing Ruby, and it could help to decide when to use each.  Also, I’m interested in programming language design, and wanted to document pros and cons in that light.</p>
<p><span style="color: #000000; font-weight: bold;">Where Python Sucks (As Compared to Ruby)</span></p>
<ul>
<li>Have to explicitly include <strong>self</strong> in <strong>EVERY</strong> method declaration.
<ul>
<li>Including <strong>@classmethod</strong> declarations (although people usually use the name <strong>cls</strong> instead of <strong>self</strong> there).</li>
<li>Except <strong>@staticmethod</strong> declarations.</li>
</ul>
</li>
<li>Have to use <strong>self</strong> everywhere to reference an object’s own attributes.</li>
<li>Inconsistency of things like the <strong>len()</strong> function, when everything else is a method.</li>
<li>Inconsistency of having some built-in classes with lower-case names.
<ul>
<li>And they’re not whole words, so you have to memorize them: <strong>list</strong>, <strong>dict</strong>, <strong>str</strong>, <strong>int</strong>.</li>
<li>Even more bizarre is <strong>dict</strong> vs. <strong>OrderedDict</strong>.</li>
</ul>
</li>
<li>I’m not a fan of <strong>True</strong> and <strong>False</strong> being uppercase.
<ul>
<li>I’m a bit less concerned about <strong>None</strong>, for some reason.</li>
<li>If they’re going to be uppercase, they might as well be all caps, in my opinion.</li>
</ul>
</li>
<li>Inconsistency of camelCase versus snake_case in some modules.</li>
<li>Claims to prefer explicit over implicit, yet does not use <strong>new</strong> to create an object.
<ul>
<li>It is nicely concise, but makes it look too much like a regular function call.</li>
</ul>
</li>
<li>The implementation of lambdas is too limited.
<ul>
<li>Makes using <strong>map</strong> function not very useful.</li>
</ul>
</li>
<li>Class methods are less than ideal to implement.
<ul>
<li>Probably better to use functions within a module instead, in many cases.</li>
</ul>
</li>
<li>Lack of good functional programming tools makes it harder to manipulate lists.
<ul>
<li>Have to often resort to creating an initial list and adding to it in a <strong>for</strong> loop.</li>
</ul>
</li>
<li>I don’t understand why r’regex_string’ doesn’t just create an actual regular expression object.</li>
<li>I miss Ruby’s method-call-or-property-getter syntax.
<ul>
<li>Nice that I can get it by adding <strong>@property</strong> to method definitions, but that’s a bit messy.</li>
</ul>
</li>
<li>I don’t understand why lists don’t have a <strong>join()</strong> method; it seems backwards to call <strong>join</strong> on the string used to connect the list elements.</li>
<li>I miss <strong>unless</strong>; seems like with all the keywords, Python would have added that.</li>
<li>I really miss <strong>||=</strong> to memoize.
<ul>
<li>The distinction between unset variables and variables set to <strong>None</strong> makes it hard.</li>
<li>I also miss <strong>+=</strong>.</li>
</ul>
</li>
<li>I really miss statement modifiers (<strong>if</strong> or <strong>unless</strong> at the end of the statement/expression instead of the beginning).</li>
<li>I miss being able to assign to a compound statement (<strong>x = if True: 1; else: 2</strong>).
<ul>
<li>While Python does allow this simple case, it does not allow more complex cases.</li>
</ul>
</li>
<li>The way modules, files, and classes work, I either have a lot of classes in one file, or have to come up with more module names in order to split classes into different files.</li>
<li>The preference for bare functions within modules over class methods often leads to functions outside of classes, when they’d make more sense more closely associated with the class.</li>
<li>I don’t quite understand the necessity for <strong>pass</strong>.
<ul>
<li>Seems like allowing 0 lines of indented code would suffice instead.</li>
</ul>
</li>
<li>I miss implicit <strong>return</strong>.
<ul>
<li>Explicit <strong>return</strong> looks a bit nicer, but is less concise, and I’ve gotten out of the habit.</li>
</ul>
</li>
<li>Mixins turn out to be more useful than multiple inheritance.</li>
<li>I miss string interpolation.</li>
<li>I really miss <strong>Array#first</strong> and <strong>Array#last</strong>.</li>
<li>I really don’t like that 0 is falsey.
<ul>
<li>I could live with empty lists and dicts being false, but not 0.0 and 0.</li>
</ul>
</li>
<li>Comparing a string to a regular expression seems harder than it should be.</li>
<li>Converting to a Boolean is not as easy a Ruby’s <strong>!!</strong> syntax.
<ul>
<li>OK, <strong>bool(expression)</strong> isn’t so bad, I guess.</li>
</ul>
</li>
</ul>
<h1>Where Python Rocks</h1>
<ul>
<li>Indentation removes the need for <strong>end</strong> everywhere.</li>
<li>Import statements are nice.
<ul>
<li>Can import everything, or just a few things.</li>
</ul>
</li>
<li>Annotations are nice for aspect-oriented modification of methods.
<ul>
<li>Does it make it hard to debug though, like <strong>alias_method_chain</strong> in Ruby?</li>
<li>It’s kind of tricky to write them though, due to doubly-nested function definitions.</li>
</ul>
</li>
<li>List comprehensions are more powerful than <strong>map</strong>.
<ul>
<li>But <strong>map</strong> can be more concise for the most common cases.</li>
</ul>
</li>
<li>Can add arbitrary attributes to any object, class, or module.</li>
<li>The object creation syntax is nicely concise.</li>
<li>Sometimes the ability to add a bare function within a module is nice.</li>
<li>Keyword arguments are nicely done.
<ul>
<li>Ruby’s emulation via hashes without braces is OK, but the corner cases are problematic.</li>
</ul>
</li>
<li>Docstrings as part of the language is nice.</li>
<li>The new <strong>with</strong> keyword looks like a halfway-decent replacement for blocks.
<ul>
<li>Seems like a lot more work that using blocks and <strong>yield</strong> though.</li>
</ul>
</li>
<li>Python 3 drops support for octal literals starting with a 0.
<ul>
<li>Still allows it via a 0o prefix.</li>
</ul>
</li>
<li>No support for all the crazy Perl-inspired globals.</li>
<li>The names <strong>list</strong> and <strong>dictionary</strong> are better than <strong>array</strong> and <strong>hash</strong>.
<ul>
<li>The Ruby names are more about the implementation, especially <strong>hash</strong>.</li>
<li>I’d much prefer the name <strong>map</strong> over <strong>hash</strong>, or even <strong>dictionary</strong>.</li>
<li>The name <strong>list</strong> is only slightly better than <strong>array</strong>.</li>
</ul>
</li>
<li>List and string slicing is quite nice.
<ul>
<li>I do wish that the syntax was “..” instead of “:” though.</li>
<li>Slice assignment is even cooler.</li>
</ul>
</li>
<li>I prefer the Python <strong>dict</strong> syntax over the Ruby <strong>hash</strong> syntax (“:” vs. “=&gt;”).
<ul>
<li>The Ruby 1.9 symbol hash syntax is an improvement, but not quite as good.</li>
</ul>
</li>
<li>Checking for string containment is nice: <strong>if substring in string</strong>.</li>
</ul>
<h1>Where Ruby Rocks</h1>
<ul>
<li>Consistency.</li>
<li>Blocks.</li>
<li>Excellent functional tools to deal with Enumerable.</li>
<li>Meta-programming.</li>
<li>Optional parentheses.</li>
<li>Modules and classes are also objects.</li>
</ul>
<p> </p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2013/02/22/my-thoughts-on-python-vs-ruby" rel="bookmark"><time class="entry-date published" datetime="2013-02-22T11:03:06+00:00">February 22, 2013</time><time class="updated" datetime="2013-05-10T15:20:58+00:00">May 10, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming" rel="category tag">Programming</a>, <a href="../../../category/programming/programming-languages/python" rel="category tag">Python</a>, <a href="../../../category/programming/programming-languages/ruby" rel="category tag">Ruby</a></span><span class="comments-link"><a href="../../../2013/02/22/my-thoughts-on-python-vs-ruby#comments">1 Comment<span class="screen-reader-text"> on My Thoughts on Python vs. Ruby</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-67 post type-post status-publish format-standard hentry category-programming category-ruby" id="post-67">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2012/01/11/grenade-debugging-pattern" rel="bookmark">Debugging Pattern – Grenade</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>I’ve been more interested in programming patterns lately, partly due to the Ruby community’s recent interest — especially the Ruby Rogue podcast’s love affair with “Smalltalk Best Practice Patterns”.</p>
<p>I consider most of the patterns in “Smalltalk Best Practice Patterns” to be patterns “in the small” — things that are typically employed on a single line or method. The Gang Of Four patterns are more medium sized, dealing with methods and classes. The PEAA book covers architectural-scale patterns. I suppose “The Pragmatic Programmer” and similar books could (should!) be considered to be very general patterns, mostly about the practice of programming.</p>
<p>One type of pattern that I have not seen discussed much is debugging patterns. I’m not exactly sure why that is; probably just our general concentration on designing the program code itself. There are definitely testing patterns. But I can’t think of anything that I’ve seen that covers debugging patterns. A quick search on the Internet doesn’t turn up too much.</p>
<p>Anyway, a co-worker (Helena) and I were debugging recently, and were having trouble figuring out where a certain method on a certain object was being called. We came up with a really cool solution. We immediately called it a grenade, because its entire purpose is to blow up (raise an exception) and display a backtrace to show us the caller of the method that we’re looking for.</p>
<p>Here’s our implementation in Ruby:</p>
<pre><code class="ruby">
module Grenade
  def method_under_investigation(*)
    raise "method_under_investigation called"
  end
end

class Xyz
  ...
  def xyz
    object_under_investigation.extend(Grenade)
  end
  ...
end</code></pre>
<p>I’m sure we could wrap that in some more semantic sugar, even going as far as making it look something like this:</p>
<pre><code class="ruby">
class Xyz
  ...
  def xyz
    object_under_investigation.blow_up_when_method_called(:method_under_investigation)
  end
  ...
end
</code></pre>
<p>I’m not sure that would really be worth it though, unless we were to add it to some sort of library.</p>
<p>So that’s our contribution to the (small) list of debugging patterns.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2012/01/11/grenade-debugging-pattern" rel="bookmark"><time class="entry-date published" datetime="2012-01-11T18:59:59+00:00">January 11, 2012</time><time class="updated" datetime="2016-02-24T15:44:06+00:00">February 24, 2016</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming" rel="category tag">Programming</a>, <a href="../../../category/programming/programming-languages/ruby" rel="category tag">Ruby</a></span><span class="comments-link"><a href="../../../2012/01/11/grenade-debugging-pattern#respond">Leave a comment<span class="screen-reader-text"> on Debugging Pattern – Grenade</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-63 post type-post status-publish format-standard hentry category-programming" id="post-63">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2012/01/10/write-comments-for-yourself-2" rel="bookmark">Write Comments For Yourself</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p><a href="https://github.com/adkron">Amos</a> and I got in a heated discussion recently on whether we should write a single line comment to better explain some code. (The code in question was Amos’s very elegant solution to testing whether a job got sent to Resque.)</p>
<p>Amos doesn’t believe in writing comments much at all. He thinks that if you’re writing a comment, it means that you’re doing something wrong, and that you probably need to write the code more clearly.</p>
<p>I agree with that, to a point. First off, it’s not necessary to write perfect code. If you can change a class or method name to better describe what you’re doing (and more importantly, why you’re doing it) then you should definitely do so. But it’s not always worth refactoring until you get every “why” answered. More importantly, I don’t think it’s even possible to capture everything in the code that is worth capturing. For example, why did you choose this implementation, as opposed to another that might be more obvious or common?</p>
<p>After our argument, I came up with a good rule of thumb (or “pattern”):</p>
<blockquote><p>Write comments for your (future) self.<sup><a href="#footnote_1">1</a></sup></p></blockquote>
<p>In other words, if your comment will help you to understand the code more quickly when you look at it in the future, then it’s a valid comment. It also means that you can assume that the reader has about as much general programming knowledge as you currently do. (Your future self will have more general knowledge, but possibly less specific knowledge of the lines of code in question. And because of this, your current solution might not make as much sense in the future. You might know of a better solution in the future, but you’ll have to know all the constraints that you had when you originally wrote the code.)</p>
<p>This is not to say that you should not write comments in clear English, that others can understand. The comment is written for a future maintainer. That may be you (which is why the rule works well), or it may be someone else. The rule is more about when to write a comment, and what level of competence you should assume of the reader.</p>
<p id="footnote_1"><sup>1</sup> Perhaps it should be “Write comments TO your (future) self”.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2012/01/10/write-comments-for-yourself-2" rel="bookmark"><time class="entry-date published" datetime="2012-01-10T19:02:12+00:00">January 10, 2012</time><time class="updated" datetime="2013-04-28T19:04:22+00:00">April 28, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming" rel="category tag">Programming</a></span><span class="comments-link"><a href="../../../2012/01/10/write-comments-for-yourself-2#respond">Leave a comment<span class="screen-reader-text"> on Write Comments For Yourself</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<article class="post-46 post type-post status-publish format-standard hentry category-linux category-sysadmin" id="post-46">
<header class="entry-header">
<h2 class="entry-title"><a href="../../../2011/08/26/bulk-rename-in-bash" rel="bookmark">Bulk Rename in Bash</a></h2> </header><!-- .entry-header -->
<div class="entry-content">
<p>Here’s a relatively simple way to rename a bunch of files from the command line. It uses <code>sed</code> within a command substitution to compute the new names from the old names.</p>
<p>In this example, we’re renaming files that start with “ABC” to start with “XYZ” instead:</p>
<pre class="bash code">  <code class="bash">for i in ABC*; do mv $i $(echo $i | sed -e s/^ABC/XYZ/); done</code></pre>
<p>You’ll have to use shell globbing (wildcards) in the first part, to determine which files will be the source of the renaming, and regular expressions in the second part to translate the old names into the new names.</p>
<p>It’s a good idea to use <code>echo</code> in place of <code>mv</code> before running this, to see what the results will be, so you don’t make a mistake.</p>
<p>Depending on the situation, you may need to adapt this for your particular needs. For example, if you have too many files to rename, you would need to use <code>xargs</code>. Or <code>sed</code> might not be up for the task of transforming the names that you want. Or you might need to use <code>find</code> to find files within a hierarchy. As with any UNIX idiom, there are hundreds of variations on the theme.</p>
</div><!-- .entry-content -->
<footer class="entry-footer">
<span class="byline"><span class="author vcard"><img alt="" class="avatar avatar-49 photo" height="49" src="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2011/08/26/bulk-rename-in-bash" rel="bookmark"><time class="entry-date published" datetime="2011-08-26T22:53:58+00:00">August 26, 2011</time><time class="updated" datetime="2011-09-03T01:09:45+00:00">September 3, 2011</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/open-source/linux" rel="category tag">GNU/Linux</a>, <a href="../../../category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="../../../2011/08/26/bulk-rename-in-bash#respond">Leave a comment<span class="screen-reader-text"> on Bulk Rename in Bash</span></a></span> </footer><!-- .entry-footer -->
</article><!-- #post-## -->
<nav class="navigation pagination" role="navigation">
<h2 class="screen-reader-text">Posts navigation</h2>
<div class="nav-links"><a class="prev page-numbers" href="../../../author/booch/page/3">Previous page</a>
<a class="page-numbers" href="../../../author/booch/"><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class="page-numbers dots">…</span>
<a class="page-numbers" href="../../../author/booch/page/3"><span class="meta-nav screen-reader-text">Page </span>3</a>
<span class="page-numbers current"><span class="meta-nav screen-reader-text">Page </span>4</span>
<a class="page-numbers" href="../../../author/booch/page/5"><span class="meta-nav screen-reader-text">Page </span>5</a>
<a class="next page-numbers" href="../../../author/booch/page/5">Next page</a></div>
</nav>
</main><!-- .site-main -->
</div><!-- .content-area -->
<aside class="sidebar widget-area" id="secondary" role="complementary">
<section class="widget widget_pages" id="pages-2"><h2 class="widget-title">Pages</h2> <ul>
<li class="page_item page-item-2"><a href="../../../about">About</a></li>
</ul>
</section><section class="widget widget_categories" id="categories-4"><h2 class="widget-title">Categories</h2> <ul>
<li class="cat-item cat-item-17"><a href="../../../category/agile">Agile</a>
</li>
<li class="cat-item cat-item-26"><a href="../../../category/programming/architecture">Architecture</a>
</li>
<li class="cat-item cat-item-20"><a href="../../../category/blogging">Blogging</a>
</li>
<li class="cat-item cat-item-25"><a href="../../../category/programming/programming-languages/brilliant">Brilliant</a>
</li>
<li class="cat-item cat-item-30"><a href="../../../category/agile/empathy">Empathy</a>
</li>
<li class="cat-item cat-item-27"><a href="../../../category/agile/estimation-agile">Estimation</a>
</li>
<li class="cat-item cat-item-22"><a href="../../../category/gadgets">Gadgets</a>
</li>
<li class="cat-item cat-item-7"><a href="../../../category/open-source/linux">GNU/Linux</a>
</li>
<li class="cat-item cat-item-9"><a href="../../../category/programming/programming-languages">Languages</a>
</li>
<li class="cat-item cat-item-19"><a href="../../../category/programming/oop">OOP</a>
</li>
<li class="cat-item cat-item-5"><a href="../../../category/open-source">Open Source</a>
</li>
<li class="cat-item cat-item-8"><a href="../../../category/programming">Programming</a>
</li>
<li class="cat-item cat-item-16"><a href="../../../category/programming/programming-languages/python">Python</a>
</li>
<li class="cat-item cat-item-29"><a href="../../../category/resolutions">Resolutions</a>
</li>
<li class="cat-item cat-item-28"><a href="../../../category/agile/retrospectives">Retrospectives</a>
</li>
<li class="cat-item cat-item-10"><a href="../../../category/programming/programming-languages/ruby">Ruby</a>
</li>
<li class="cat-item cat-item-6"><a href="../../../category/webdev/rails">Ruby on Rails</a>
</li>
<li class="cat-item cat-item-12"><a href="../../../category/security">Security</a>
</li>
<li class="cat-item cat-item-21"><a href="../../../category/programming/programming-languages/shell">Shell</a>
</li>
<li class="cat-item cat-item-13"><a href="../../../category/sysadmin">System Admin</a>
</li>
<li class="cat-item cat-item-18"><a href="../../../category/agile/tdd">TDD</a>
</li>
<li class="cat-item cat-item-4"><a href="../../../category/webdev">Web Development</a>
</li>
</ul>
</section> </aside><!-- .sidebar .widget-area -->
</div><!-- .site-content -->
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-info">
<span class="site-title"><a href="../../../" rel="home">BoochTek, LLC</a></span>
<a href="https://wordpress.org/">Proudly powered by WordPress</a>
</div><!-- .site-info -->
</footer><!-- .site-footer -->
</div><!-- .site-inner -->
</div><!-- .site -->
<script src="../../../../wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20150825" type="text/javascript"></script>
<script type="text/javascript">
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script src="../../../../wp-content/themes/twentysixteen/js/functions.js?ver=20150825" type="text/javascript"></script>
<script src="../../../../wp-includes/js/wp-embed.min.js?ver=4.5.3" type="text/javascript"></script>
</body>
</html>
